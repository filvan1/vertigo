(()=>{"use strict";var e,t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var r=t.g.document;if(!e&&r&&(r.currentScript&&(e=r.currentScript.src),!e)){var n=r.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),function(e){e[e.NORMAL=0]="NORMAL",e[e.HIGH=1]="HIGH"}(e||(e={}));var r=function(t,r,n,i){void 0===i&&(i=e.NORMAL),this.identifier=t,this.sender=r,this.payload=n,this.priority=i},n=function(){function t(){this._subscriberMap={},this._normalMessageCapacity=10,this._messageQueue=[]}return t.getInstance=function(){return null==t._instance&&(t._instance=new t),t._instance},t.prototype.addSubscription=function(e,t){var r=this._subscriberMap[e];void 0===r&&(this._subscriberMap[e]=[],r=[]),-1!==r.indexOf(t)?console.warn(t+" already exists in sub map with key "+e):this._subscriberMap[e].push(t)},t.prototype.removeSubscription=function(e,t){var r=this._subscriberMap[e];if(void 0!==r){var n=r.indexOf(t);-1!==n&&this._subscriberMap[e].splice(n,1)}else console.warn(t+" not subscribed to "+e)},t.prototype.post=function(t){var r=this._subscriberMap[t.identifier];if(void 0!==r)for(var n=0,i=r;n<i.length;n++){var a=i[n];t.priority==e.HIGH?a.receiveMessage(t):this._messageQueue.push(t)}else console.log("Message "+t.identifier+" not posted: No subscribers ")},t.prototype.update=function(){if(0!==this._messageQueue.length)for(var e=Math.min(this._normalMessageCapacity,this._messageQueue.length),t=0;t<e;t++)for(var r=this._messageQueue.pop(),n=0,i=this._subscriberMap[r.identifier];n<i.length;n++)i[n].receiveMessage(r)},t}();const i=t.p+"2ce6ec3185da49acbad2ebe2f2133042.jpg";var a=1e-6,o="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;var s=Math.PI/180;function u(e){return e*s}function c(){var e=new o(3);return o!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function h(e,t,r){var n=new o(3);return n[0]=e,n[1]=t,n[2]=r,n}function f(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function p(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[0],s=r[1],u=r[2];return e[0]=i*u-a*s,e[1]=a*o-n*u,e[2]=n*s-i*o,e}function l(){var e=new o(16);return o!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function d(e,t,r,n){var i,o,s,u,c,h,f,p,l,d,g,m,v,_,E,b,T,w,A,R,M,y,S,P,I=n[0],U=n[1],B=n[2],F=Math.hypot(I,U,B);return F<a?null:(I*=F=1/F,U*=F,B*=F,i=Math.sin(r),s=1-(o=Math.cos(r)),u=t[0],c=t[1],h=t[2],f=t[3],p=t[4],l=t[5],d=t[6],g=t[7],m=t[8],v=t[9],_=t[10],E=t[11],b=I*I*s+o,T=U*I*s+B*i,w=B*I*s-U*i,A=I*U*s-B*i,R=U*U*s+o,M=B*U*s+I*i,y=I*B*s+U*i,S=U*B*s-I*i,P=B*B*s+o,e[0]=u*b+p*T+m*w,e[1]=c*b+l*T+v*w,e[2]=h*b+d*T+_*w,e[3]=f*b+g*T+E*w,e[4]=u*A+p*R+m*M,e[5]=c*A+l*R+v*M,e[6]=h*A+d*R+_*M,e[7]=f*A+g*R+E*M,e[8]=u*y+p*S+m*P,e[9]=c*y+l*S+v*P,e[10]=h*y+d*S+_*P,e[11]=f*y+g*S+E*P,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)}),c();var g=function(e,t,r,n,i){var a,o=1/Math.tan(t/2);return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(a=1/(n-i),e[10]=(i+n)*a,e[14]=2*i*n*a):(e[10]=-1,e[14]=-2*n),e};function m(e,t,r,n){var i,o,s,u,c,h,f,p,l,d,g=t[0],m=t[1],v=t[2],_=n[0],E=n[1],b=n[2],T=r[0],w=r[1],A=r[2];return Math.abs(g-T)<a&&Math.abs(m-w)<a&&Math.abs(v-A)<a?function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}(e):(f=g-T,p=m-w,l=v-A,i=E*(l*=d=1/Math.hypot(f,p,l))-b*(p*=d),o=b*(f*=d)-_*l,s=_*p-E*f,(d=Math.hypot(i,o,s))?(i*=d=1/d,o*=d,s*=d):(i=0,o=0,s=0),u=p*s-l*o,c=l*i-f*s,h=f*o-p*i,(d=Math.hypot(u,c,h))?(u*=d=1/d,c*=d,h*=d):(u=0,c=0,h=0),e[0]=i,e[1]=u,e[2]=f,e[3]=0,e[4]=o,e[5]=c,e[6]=p,e[7]=0,e[8]=s,e[9]=h,e[10]=l,e[11]=0,e[12]=-(i*g+o*m+s*v),e[13]=-(u*g+c*m+h*v),e[14]=-(f*g+p*m+l*v),e[15]=1,e)}var v,_,E,b,T,w,A,R,M,y,S,P,I,U,B="INPUT_KEY_DOWN",F="INPUT_KEY_UP",x="INPUT_MOUSE_DOWN",L="INPUT_MOUSE_UP",D="INPUT_MOUSE_MOVE",N=.1*Math.PI/180,C=45,k=-90,O=0,H=!1,X=0,G=0,Y=!1,z=!1,W=!1,j=!1,q=!1,V=!1;const Q=function(){function e(e){var t=this;if(this.messageBus=n.getInstance(),null==(_=e))throw new Error("Canvas initialization failed!");if(void 0===(v=_.getContext("webgl2")))throw new Error("Unable to initiaze WebGL");this.messageBus.addSubscription(B,this),this.messageBus.addSubscription(F,this),this.messageBus.addSubscription(x,this),this.messageBus.addSubscription(L,this);var a=new Image;a.onload=function(e){t.init(a),t.messageBus.post(new r("renderer_started",t))},a.onerror=function(e){console.log(e)},a.src=i}return e.prototype.receiveMessage=function(e){var t=e.identifier,r=e.payload;if(t==B)switch(r){case"w":Y=!0;break;case"a":z=!0;break;case"s":W=!0;break;case"d":j=!0;break;case"e":q=!0;break;case"q":V=!0}else if(t==F)switch(r){case"w":Y=!1;break;case"a":z=!1;break;case"s":W=!1;break;case"d":j=!1;break;case"e":q=!1;break;case"q":V=!1}t==x?(this.messageBus.addSubscription(D,this),H=!0,Z(r)):t==L&&this.messageBus.removeSubscription(D,this),t==D&&Z(r)},Object.defineProperty(e.prototype,"getRenderer",{get:function(){return this},enumerable:!1,configurable:!0}),e.prototype.init=function(t){var r=e.createShader(v,v.VERTEX_SHADER,"#version 300 es\n\n// an attribute is an input (in) to a vertex shader.\n// It will receive data from a buffer\nlayout(location=0)in vec3 a_position;\nlayout(location=1)in vec2 a_texCoord;\n\nout vec2 texCoord;\n\nuniform mat4 model;\nuniform mat4 view;\nuniform mat4 projection;\n\nvoid main(){\n  \n  gl_Position=projection*view*model*vec4(a_position,1.);\n  texCoord=a_texCoord;\n}\n"),n=e.createShader(v,v.FRAGMENT_SHADER,"#version 300 es\n \nprecision highp float;\n\nout vec4 FragColor;\n\nin vec2 texCoord;\n\nuniform sampler2D u_texture;\n\n\nvoid main() {\n  //Look up colour from texture\n  FragColor=texture(u_texture, texCoord);\n}\n"),i=e.createShader(v,v.VERTEX_SHADER,"#version 300 es\nin vec4 a_position;\nin vec3 a_normal;\n\nuniform mat4 u_projection;\nuniform mat4 u_view;\nuniform mat4 u_world;\n\nout vec3 v_normal;\n\nvoid main(){\n    gl_Position=u_projection*u_view*u_world*a_position;\n    v_normal=mat3(u_world)*a_normal;\n}"),a=e.createShader(v,v.FRAGMENT_SHADER,"#version 300 es\n  precision highp float;\n \n  in vec3 v_normal;\n \n  uniform vec4 u_diffuse;\n  uniform vec3 u_lightDirection;\n \n  out vec4 outColor;\n \n  void main () {\n    vec3 normal = normalize(v_normal);\n    float fakeLight = dot(u_lightDirection, normal) * .5 + .5;\n    outColor = vec4(u_diffuse.rgb * fakeLight, u_diffuse.a);\n  }");if(e.createProgram(v,i,a),E=e.createProgram(v,r,n),v.useProgram(E),null==E)throw new Error("Program creation failed!");e.resizeCanvasToDisplaySize(_),S=h(0,0,3),U=h(0,0,-1),P=h(0,1,0),I=c,A=new Uint16Array([0,1,3,1,2,3]),R=d(R=l(),R,u(-55),h(1,0,0)),M=m(M=l(),h(0,0,3),h(0,0,0),h(0,1,0)),C=v.canvas.clientHeight*N,y=l(),y=g(y,C,_.clientWidth/_.clientHeight,.1,100),b=v.createVertexArray(),v.bindVertexArray(b);var o=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,o),v.bufferData(v.ARRAY_BUFFER,new Float32Array([-.5,-.5,-.5,0,0,.5,-.5,-.5,1,0,.5,.5,-.5,1,1,.5,.5,-.5,1,1,-.5,.5,-.5,0,1,-.5,-.5,-.5,0,0,-.5,-.5,.5,0,0,.5,-.5,.5,1,0,.5,.5,.5,1,1,.5,.5,.5,1,1,-.5,.5,.5,0,1,-.5,-.5,.5,0,0,-.5,.5,.5,1,0,-.5,.5,-.5,1,1,-.5,-.5,-.5,0,1,-.5,-.5,-.5,0,1,-.5,-.5,.5,0,0,-.5,.5,.5,1,0,.5,.5,.5,1,0,.5,.5,-.5,1,1,.5,-.5,-.5,0,1,.5,-.5,-.5,0,1,.5,-.5,.5,0,0,.5,.5,.5,1,0,-.5,-.5,-.5,0,1,.5,-.5,-.5,1,1,.5,-.5,.5,1,0,.5,-.5,.5,1,0,-.5,-.5,.5,0,0,-.5,-.5,-.5,0,1,-.5,.5,-.5,0,1,.5,.5,-.5,1,1,.5,.5,.5,1,0,.5,.5,.5,1,0,-.5,.5,.5,0,0,-.5,.5,-.5,0,1]),v.STATIC_DRAW),w=v.createBuffer(),v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,w),v.bufferData(v.ELEMENT_ARRAY_BUFFER,A,v.STATIC_DRAW),console.log(v.getBufferParameter(v.ARRAY_BUFFER,v.BUFFER_SIZE)),console.log(v.getBufferParameter(v.ELEMENT_ARRAY_BUFFER,v.BUFFER_SIZE)),v.vertexAttribPointer(0,3,v.FLOAT,!1,20,0),v.enableVertexAttribArray(0),v.vertexAttribPointer(1,2,v.FLOAT,!1,20,12),v.enableVertexAttribArray(1),T=v.createTexture(),v.bindTexture(v.TEXTURE_2D,T),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,v.REPEAT),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,v.REPEAT),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.LINEAR_MIPMAP_LINEAR),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,v.LINEAR);var s=v.TEXTURE_2D,f=v.RGBA,p=v.RGBA,B=v.UNSIGNED_BYTE;v.texImage2D(s,0,f,p,B,t),v.generateMipmap(v.TEXTURE_2D),v.enable(v.DEPTH_TEST),this.render()},e.prototype.render=function(){var t=Date.now();X=t-G,G=t,this.processInput(),e.resizeCanvasToDisplaySize(_)&&(y=g(y,C,_.clientWidth/_.clientHeight,.1,100)),v.viewport(0,0,v.canvas.width,v.canvas.height),v.clear(v.COLOR_BUFFER_BIT|v.DEPTH_BUFFER_BIT),v.clearColor(0,0,0,1),v.useProgram(E),v.bindTexture(v.TEXTURE_2D,T),v.bindVertexArray(b),R=d(R,R,u(-.5),h(1,1,.5));var r=h(0,0,0);!function(e,t,r){e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2]}(r,S,U),m(M,S,r,P);var n=v.getUniformLocation(E,"model"),i=v.getUniformLocation(E,"view"),a=v.getUniformLocation(E,"projection");v.uniformMatrix4fv(n,!1,R),v.uniformMatrix4fv(i,!1,M),v.uniformMatrix4fv(a,!1,y),v.TRIANGLES,v.UNSIGNED_SHORT,v.drawArrays(v.TRIANGLES,0,36)},e.createShader=function(e,t,r){var n=e.createShader(t);if(e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))return console.log(e.getShaderInfoLog(n)),n;console.log(e.getShaderInfoLog(n)),e.deleteShader(n)},e.createProgram=function(e,t,r){var n=e.createProgram();if(e.attachShader(n,t),e.attachShader(n,r),e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS))return n;console.log(e.getProgramInfoLog(n)),e.deleteProgram(n)},e.resizeCanvasToDisplaySize=function(e){var t=e.clientWidth,r=e.clientHeight,n=e.width!==t||e.height!==r;return n&&(e.width=t,e.height=r),n},e.prototype.processInput=function(){var e=.005*X;Y&&f(S,S,U,e),z&&(p(I,U,P),f(S,S,I,-e)),W&&f(S,S,U,-e),j&&(p(I,U,P),f(S,S,I,e)),q&&(p(I,U,P),f(S,S,P,e)),V&&(p(I,U,P),f(S,S,P,-e))},e}();var K,$;function Z(e){H&&(K=e[0],$=e[1],H=!1);var t=e[0]-K,r=$-e[1];K=e[0],$=e[1],k+=t*=.1;var n=u(O=(O=(O+=r*=.1)>89?89:O)<-89?-89:O),i=u(k),a=h(Math.cos(i)*Math.cos(n),Math.sin(n),Math.sin(i)*Math.cos(n));!function(e,t){var r=t[0],n=t[1],i=t[2],a=r*r+n*n+i*i;a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a}(U,a)}const J=function(){function e(e,t){this.targetElement=e,this.renderer=t,this.messageBus=n.getInstance()}return e.prototype.receiveMessage=function(e){},e.prototype.update=function(){},e.prototype.initInputEvents=function(){var e=this;this.targetElement.tabIndex=1e3,this.targetElement.onkeydown=function(t){if(!t.repeat){var n=t.key;e.messageBus.post(new r(B,e,n))}},this.targetElement.onkeyup=function(t){if(!t.repeat){var n=t.key;e.messageBus.post(new r(F,e,n))}},this.targetElement.onmousedown=function(t){e.messageBus.post(new r(x,e,[t.pageX,t.pageY]))},this.targetElement.onmouseup=function(t){e.messageBus.post(new r(L,e,[t.pageX,t.pageY]))},this.targetElement.onmousemove=function(t){e.messageBus.post(new r(D,e,[t.pageX,t.pageY]))}},e.prototype.requestPointerLock=function(){this.targetElement.requestPointerLock()},e.prototype.exitPointerLock=function(){document.exitPointerLock()},e}();var ee=function(){function e(e){if(void 0===e&&(e="vertigoCanvas"),this._render=!1,this._canvas=document.getElementById(e),void 0===this._canvas)throw new Error("FATAL: Cannot find destination canvas element with name:"+e)}return e.prototype.receiveMessage=function(e){console.log("engine received "+e.identifier),this._render=!0},e.prototype.initialize=function(){this._messageBus=n.getInstance(),this._messageBus.addSubscription("renderer_started",this),this._renderer=new Q(this._canvas),new J(this._canvas,this._renderer).initInputEvents(),this.run()},e.sendInputMessage=function(e){},e.prototype.run=function(){var e=this,t=function(){e._messageBus.update(),e._render&&e._renderer.render(),window.requestAnimationFrame(t)};window.requestAnimationFrame(t)},e}();window.onload=function(){(new ee).initialize()}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPNEssT0FBUyxZQUNNLElBQUlxSSxJQUNWUCxlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmVydGlnby93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly92ZXJ0aWdvLy4vZW5naW5lL3NyYy9tZXNzYWdlL21lc3NhZ2UudHMiLCJ3ZWJwYWNrOi8vdmVydGlnby93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3ZlcnRpZ28vd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vdmVydGlnby8uL2VuZ2luZS9zcmMvbWVzc2FnZS9tZXNzYWdlQnVzLnRzIiwid2VicGFjazovL3ZlcnRpZ28vLi9lbmdpbmUvc3JjL3dhbGwuanBnIiwid2VicGFjazovL3ZlcnRpZ28vLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9jb21tb24uanMiLCJ3ZWJwYWNrOi8vdmVydGlnby8uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL3ZlYzMuanMiLCJ3ZWJwYWNrOi8vdmVydGlnby8uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL21hdDQuanMiLCJ3ZWJwYWNrOi8vdmVydGlnby8uL2VuZ2luZS9zcmMvcmVuZGVyZXIvcmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vdmVydGlnby8uL2VuZ2luZS9zcmMvbWVzc2FnZS9tZXNzYWdlQ29uc3RhbnRzLnRzIiwid2VicGFjazovL3ZlcnRpZ28vLi9lbmdpbmUvc3JjL3JlbmRlcmVyL3NoYWRlcnMvdmVydGV4Lmdsc2wiLCJ3ZWJwYWNrOi8vdmVydGlnby8uL2VuZ2luZS9zcmMvcmVuZGVyZXIvc2hhZGVycy9mcmFnbWVudC5nbHNsIiwid2VicGFjazovL3ZlcnRpZ28vLi9lbmdpbmUvc3JjL3JlbmRlcmVyL3NoYWRlcnMvdGVzdFZlcnQuZ2xzbCIsIndlYnBhY2s6Ly92ZXJ0aWdvLy4vZW5naW5lL3NyYy9yZW5kZXJlci9zaGFkZXJzL3Rlc3RGcmFnLmdsc2wiLCJ3ZWJwYWNrOi8vdmVydGlnby8uL2VuZ2luZS9zcmMvaW5wdXQudHMiLCJ3ZWJwYWNrOi8vdmVydGlnby8uL2VuZ2luZS9zcmMvZW5naW5lLnRzIiwid2VicGFjazovL3ZlcnRpZ28vLi9lbmdpbmUvc3JjL2FwcC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiXG5leHBvcnQgZW51bSBNZXNzYWdlUHJpb3JpdHl7XG4gICAgTk9STUFMLFxuICAgIEhJR0hcbn1cblxuZXhwb3J0IGNsYXNzIE1lc3NhZ2V7XG5cbiAgICBcblxuICAgIHB1YmxpYyBpZGVudGlmaWVyOnN0cmluZztcbiAgICBwdWJsaWMgcGF5bG9hZDphbnk7XG4gICAgcHVibGljIHByaW9yaXR5Ok1lc3NhZ2VQcmlvcml0eTtcbiAgICBwdWJsaWMgc2VuZGVyOmFueTtcbiAgICBcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihpZGVudGlmaWVyOnN0cmluZyxzZW5kZXI6YW55LHBheWxvYWQ/OmFueSxwcmlvcml0eT1NZXNzYWdlUHJpb3JpdHkuTk9STUFMKXtcbiAgICAgICAgdGhpcy5pZGVudGlmaWVyPWlkZW50aWZpZXI7XG4gICAgICAgIHRoaXMuc2VuZGVyPXNlbmRlcjtcbiAgICAgICAgdGhpcy5wYXlsb2FkPXBheWxvYWQ7XG4gICAgICAgIHRoaXMucHJpb3JpdHk9cHJpb3JpdHk7XG4gICAgfVxuXG59IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmNcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSBzY3JpcHRVcmwgPSBzY3JpcHRzW3NjcmlwdHMubGVuZ3RoIC0gMV0uc3JjXG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsImltcG9ydCB7IElNZXNzYWdlU3Vic2NyaWJlciB9IGZyb20gXCIuL0lNZXNzYWdlU3Vic2NyaWJlclwiO1xuaW1wb3J0IHsgTWVzc2FnZSwgTWVzc2FnZVByaW9yaXR5IH0gZnJvbSBcIi4vbWVzc2FnZVwiO1xuXG5leHBvcnQgY2xhc3MgTWVzc2FnZUJ1cyB7XG5cdHByaXZhdGUgX3N1YnNjcmliZXJNYXA6IHsgW2lkZW50aWZpZXI6IHN0cmluZ106IElNZXNzYWdlU3Vic2NyaWJlcltdIH0gPSB7fTtcblx0cHJpdmF0ZSBfbm9ybWFsTWVzc2FnZUNhcGFjaXR5ID0gMTA7XG5cdHByaXZhdGUgX21lc3NhZ2VRdWV1ZTogTWVzc2FnZVtdID0gW107XG5cblx0cHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOiBNZXNzYWdlQnVzO1xuXG5cdHByaXZhdGUgY29uc3RydWN0b3IoKSB7fVxuXG5cdHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XG5cdFx0aWYgKE1lc3NhZ2VCdXMuX2luc3RhbmNlID09IG51bGwpIHtcblx0XHRcdE1lc3NhZ2VCdXMuX2luc3RhbmNlID0gbmV3IE1lc3NhZ2VCdXMoKTtcblx0XHR9XG5cdFx0cmV0dXJuIE1lc3NhZ2VCdXMuX2luc3RhbmNlO1xuXHR9XG5cblx0cHVibGljIGFkZFN1YnNjcmlwdGlvbihcblx0XHRpZGVudGlmaWVyOiBzdHJpbmcsXG5cdFx0c3Vic2NyaWJlcjogSU1lc3NhZ2VTdWJzY3JpYmVyXG5cdCk6IHZvaWQge1xuXHRcdGxldCBjdXJyZW50ID0gdGhpcy5fc3Vic2NyaWJlck1hcFtpZGVudGlmaWVyXTtcblx0XHRpZiAoY3VycmVudCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aGlzLl9zdWJzY3JpYmVyTWFwW2lkZW50aWZpZXJdID0gW107XG5cdFx0XHRjdXJyZW50ID0gW107XG5cdFx0fVxuXG5cdFx0aWYgKGN1cnJlbnQuaW5kZXhPZihzdWJzY3JpYmVyKSAhPT0gLTEpIHtcblx0XHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFx0c3Vic2NyaWJlciArIFwiIGFscmVhZHkgZXhpc3RzIGluIHN1YiBtYXAgd2l0aCBrZXkgXCIgKyBpZGVudGlmaWVyXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9zdWJzY3JpYmVyTWFwW2lkZW50aWZpZXJdLnB1c2goc3Vic2NyaWJlcik7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHJlbW92ZVN1YnNjcmlwdGlvbihcblx0XHRpZGVudGlmaWVyOiBzdHJpbmcsXG5cdFx0c3Vic2NyaWJlcjogSU1lc3NhZ2VTdWJzY3JpYmVyXG5cdCk6IHZvaWQge1xuXHRcdGxldCBjdXJyZW50ID0gdGhpcy5fc3Vic2NyaWJlck1hcFtpZGVudGlmaWVyXTtcblx0XHRpZiAoY3VycmVudCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oc3Vic2NyaWJlciArIFwiIG5vdCBzdWJzY3JpYmVkIHRvIFwiICsgaWRlbnRpZmllcik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0bGV0IGluZGV4ID0gY3VycmVudC5pbmRleE9mKHN1YnNjcmliZXIpO1xuXHRcdGlmIChpbmRleCAhPT0gLTEpIHtcblx0XHRcdHRoaXMuX3N1YnNjcmliZXJNYXBbaWRlbnRpZmllcl0uc3BsaWNlKGluZGV4LCAxKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgcG9zdChtZXNzYWdlOiBNZXNzYWdlKTogdm9pZCB7XG5cdFx0bGV0IHN1YnNjcmliZXJzID0gdGhpcy5fc3Vic2NyaWJlck1hcFttZXNzYWdlLmlkZW50aWZpZXJdO1xuXHRcdGlmIChzdWJzY3JpYmVycyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcblx0XHRcdFx0XCJNZXNzYWdlIFwiICsgbWVzc2FnZS5pZGVudGlmaWVyICsgXCIgbm90IHBvc3RlZDogTm8gc3Vic2NyaWJlcnMgXCJcblx0XHRcdCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Zm9yIChsZXQgcyBvZiBzdWJzY3JpYmVycykge1xuXHRcdFx0aWYgKG1lc3NhZ2UucHJpb3JpdHkgPT0gTWVzc2FnZVByaW9yaXR5LkhJR0gpIHtcblx0XHRcdFx0cy5yZWNlaXZlTWVzc2FnZShtZXNzYWdlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuX21lc3NhZ2VRdWV1ZS5wdXNoKG1lc3NhZ2UpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMuX21lc3NhZ2VRdWV1ZS5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRsZXQgbWVzc2FnZUxpbWl0ID0gTWF0aC5taW4oXG5cdFx0XHR0aGlzLl9ub3JtYWxNZXNzYWdlQ2FwYWNpdHksXG5cdFx0XHR0aGlzLl9tZXNzYWdlUXVldWUubGVuZ3RoXG5cdFx0KTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG1lc3NhZ2VMaW1pdDsgaSsrKSB7XG5cdFx0XHRsZXQgbWVzc2FnZSA9IHRoaXMuX21lc3NhZ2VRdWV1ZS5wb3AoKTtcblx0XHRcdGZvciAobGV0IHMgb2YgdGhpcy5fc3Vic2NyaWJlck1hcFttZXNzYWdlLmlkZW50aWZpZXJdKSB7XG5cdFx0XHRcdHMucmVjZWl2ZU1lc3NhZ2UobWVzc2FnZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMmNlNmVjMzE4NWRhNDlhY2JhZDJlYmUyZjIxMzMwNDIuanBnXCI7IiwiLyoqXG4gKiBDb21tb24gdXRpbGl0aWVzXG4gKiBAbW9kdWxlIGdsTWF0cml4XG4gKi9cbi8vIENvbmZpZ3VyYXRpb24gQ29uc3RhbnRzXG5leHBvcnQgdmFyIEVQU0lMT04gPSAwLjAwMDAwMTtcbmV4cG9ydCB2YXIgQVJSQVlfVFlQRSA9IHR5cGVvZiBGbG9hdDMyQXJyYXkgIT09ICd1bmRlZmluZWQnID8gRmxvYXQzMkFycmF5IDogQXJyYXk7XG5leHBvcnQgdmFyIFJBTkRPTSA9IE1hdGgucmFuZG9tO1xuLyoqXG4gKiBTZXRzIHRoZSB0eXBlIG9mIGFycmF5IHVzZWQgd2hlbiBjcmVhdGluZyBuZXcgdmVjdG9ycyBhbmQgbWF0cmljZXNcbiAqXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheUNvbnN0cnVjdG9yIHwgQXJyYXlDb25zdHJ1Y3Rvcn0gdHlwZSBBcnJheSB0eXBlLCBzdWNoIGFzIEZsb2F0MzJBcnJheSBvciBBcnJheVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRNYXRyaXhBcnJheVR5cGUodHlwZSkge1xuICBBUlJBWV9UWVBFID0gdHlwZTtcbn1cbnZhciBkZWdyZWUgPSBNYXRoLlBJIC8gMTgwO1xuLyoqXG4gKiBDb252ZXJ0IERlZ3JlZSBUbyBSYWRpYW5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gYSBBbmdsZSBpbiBEZWdyZWVzXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRvUmFkaWFuKGEpIHtcbiAgcmV0dXJuIGEgKiBkZWdyZWU7XG59XG4vKipcbiAqIFRlc3RzIHdoZXRoZXIgb3Igbm90IHRoZSBhcmd1bWVudHMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIHZhbHVlLCB3aXRoaW4gYW4gYWJzb2x1dGVcbiAqIG9yIHJlbGF0aXZlIHRvbGVyYW5jZSBvZiBnbE1hdHJpeC5FUFNJTE9OIChhbiBhYnNvbHV0ZSB0b2xlcmFuY2UgaXMgdXNlZCBmb3IgdmFsdWVzIGxlc3NcbiAqIHRoYW4gb3IgZXF1YWwgdG8gMS4wLCBhbmQgYSByZWxhdGl2ZSB0b2xlcmFuY2UgaXMgdXNlZCBmb3IgbGFyZ2VyIHZhbHVlcylcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gYSBUaGUgZmlyc3QgbnVtYmVyIHRvIHRlc3QuXG4gKiBAcGFyYW0ge051bWJlcn0gYiBUaGUgc2Vjb25kIG51bWJlciB0byB0ZXN0LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG51bWJlcnMgYXJlIGFwcHJveGltYXRlbHkgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKSA8PSBFUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhKSwgTWF0aC5hYnMoYikpO1xufVxuaWYgKCFNYXRoLmh5cG90KSBNYXRoLmh5cG90ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgeSA9IDAsXG4gICAgICBpID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgeSArPSBhcmd1bWVudHNbaV0gKiBhcmd1bWVudHNbaV07XG4gIH1cblxuICByZXR1cm4gTWF0aC5zcXJ0KHkpO1xufTsiLCJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxuICogMyBEaW1lbnNpb25hbCBWZWN0b3JcbiAqIEBtb2R1bGUgdmVjM1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldywgZW1wdHkgdmVjM1xuICpcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG5cbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzBdID0gMDtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzMgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2xvbmVcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeik7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMyBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMoeCwgeSwgeikge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSB2ZWMzIHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHNvdXJjZSB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMyB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgeCwgeSwgeikge1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICBvdXRbMl0gPSB6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFN1YnRyYWN0cyB2ZWN0b3IgYiBmcm9tIHZlY3RvciBhXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYlswXTtcbiAgb3V0WzFdID0gYVsxXSAqIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKiBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBEaXZpZGVzIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC8gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAvIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE1hdGguY2VpbCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNlaWxcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2VpbChvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5jZWlsKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmNlaWwoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguY2VpbChhWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5mbG9vciB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGZsb29yXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmZsb29yKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmZsb29yKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLmZsb29yKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtaW5pbXVtIG9mIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtaW4ob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IE1hdGgubWluKGFbMF0sIGJbMF0pO1xuICBvdXRbMV0gPSBNYXRoLm1pbihhWzFdLCBiWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5taW4oYVsyXSwgYlsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1heGltdW0gb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5tYXgoYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWF4KGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1heChhWzJdLCBiWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5yb3VuZCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIHJvdW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLnJvdW5kKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLnJvdW5kKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLnJvdW5kKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTY2FsZXMgYSB2ZWMzIGJ5IGEgc2NhbGFyIG51bWJlclxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGI7XG4gIG91dFsxXSA9IGFbMV0gKiBiO1xuICBvdXRbMl0gPSBhWzJdICogYjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gdmVjMydzIGFmdGVyIHNjYWxpbmcgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZUFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogejtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBsZW5ndGggb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkTGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogejtcbn1cbi8qKlxuICogTmVnYXRlcyB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIG5lZ2F0ZVxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBuZWdhdGUob3V0LCBhKSB7XG4gIG91dFswXSA9IC1hWzBdO1xuICBvdXRbMV0gPSAtYVsxXTtcbiAgb3V0WzJdID0gLWFbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGludmVyc2Ugb2YgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBpbnZlcnRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJzZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gMS4wIC8gYVswXTtcbiAgb3V0WzFdID0gMS4wIC8gYVsxXTtcbiAgb3V0WzJdID0gMS4wIC8gYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTm9ybWFsaXplIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShvdXQsIGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgdmFyIGxlbiA9IHggKiB4ICsgeSAqIHkgKyB6ICogejtcblxuICBpZiAobGVuID4gMCkge1xuICAgIC8vVE9ETzogZXZhbHVhdGUgdXNlIG9mIGdsbV9pbnZzcXJ0IGhlcmU/XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICB9XG5cbiAgb3V0WzBdID0gYVswXSAqIGxlbjtcbiAgb3V0WzFdID0gYVsxXSAqIGxlbjtcbiAgb3V0WzJdID0gYVsyXSAqIGxlbjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZG90KGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbMV0gKyBhWzJdICogYlsyXTtcbn1cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyb3NzKG91dCwgYSwgYikge1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdO1xuICB2YXIgYnggPSBiWzBdLFxuICAgICAgYnkgPSBiWzFdLFxuICAgICAgYnogPSBiWzJdO1xuICBvdXRbMF0gPSBheSAqIGJ6IC0gYXogKiBieTtcbiAgb3V0WzFdID0gYXogKiBieCAtIGF4ICogYno7XG4gIG91dFsyXSA9IGF4ICogYnkgLSBheSAqIGJ4O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBQZXJmb3JtcyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAob3V0LCBhLCBiLCB0KSB7XG4gIHZhciBheCA9IGFbMF07XG4gIHZhciBheSA9IGFbMV07XG4gIHZhciBheiA9IGFbMl07XG4gIG91dFswXSA9IGF4ICsgdCAqIChiWzBdIC0gYXgpO1xuICBvdXRbMV0gPSBheSArIHQgKiAoYlsxXSAtIGF5KTtcbiAgb3V0WzJdID0gYXogKyB0ICogKGJbMl0gLSBheik7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgaGVybWl0ZSBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjIHRoZSB0aGlyZCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZCB0aGUgZm91cnRoIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaGVybWl0ZShvdXQsIGEsIGIsIGMsIGQsIHQpIHtcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xuICB2YXIgZmFjdG9yMSA9IGZhY3RvclRpbWVzMiAqICgyICogdCAtIDMpICsgMTtcbiAgdmFyIGZhY3RvcjIgPSBmYWN0b3JUaW1lczIgKiAodCAtIDIpICsgdDtcbiAgdmFyIGZhY3RvcjMgPSBmYWN0b3JUaW1lczIgKiAodCAtIDEpO1xuICB2YXIgZmFjdG9yNCA9IGZhY3RvclRpbWVzMiAqICgzIC0gMiAqIHQpO1xuICBvdXRbMF0gPSBhWzBdICogZmFjdG9yMSArIGJbMF0gKiBmYWN0b3IyICsgY1swXSAqIGZhY3RvcjMgKyBkWzBdICogZmFjdG9yNDtcbiAgb3V0WzFdID0gYVsxXSAqIGZhY3RvcjEgKyBiWzFdICogZmFjdG9yMiArIGNbMV0gKiBmYWN0b3IzICsgZFsxXSAqIGZhY3RvcjQ7XG4gIG91dFsyXSA9IGFbMl0gKiBmYWN0b3IxICsgYlsyXSAqIGZhY3RvcjIgKyBjWzJdICogZmFjdG9yMyArIGRbMl0gKiBmYWN0b3I0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBQZXJmb3JtcyBhIGJlemllciBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjIHRoZSB0aGlyZCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZCB0aGUgZm91cnRoIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYmV6aWVyKG91dCwgYSwgYiwgYywgZCwgdCkge1xuICB2YXIgaW52ZXJzZUZhY3RvciA9IDEgLSB0O1xuICB2YXIgaW52ZXJzZUZhY3RvclRpbWVzVHdvID0gaW52ZXJzZUZhY3RvciAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3JUaW1lczIgPSB0ICogdDtcbiAgdmFyIGZhY3RvcjEgPSBpbnZlcnNlRmFjdG9yVGltZXNUd28gKiBpbnZlcnNlRmFjdG9yO1xuICB2YXIgZmFjdG9yMiA9IDMgKiB0ICogaW52ZXJzZUZhY3RvclRpbWVzVHdvO1xuICB2YXIgZmFjdG9yMyA9IDMgKiBmYWN0b3JUaW1lczIgKiBpbnZlcnNlRmFjdG9yO1xuICB2YXIgZmFjdG9yNCA9IGZhY3RvclRpbWVzMiAqIHQ7XG4gIG91dFswXSA9IGFbMF0gKiBmYWN0b3IxICsgYlswXSAqIGZhY3RvcjIgKyBjWzBdICogZmFjdG9yMyArIGRbMF0gKiBmYWN0b3I0O1xuICBvdXRbMV0gPSBhWzFdICogZmFjdG9yMSArIGJbMV0gKiBmYWN0b3IyICsgY1sxXSAqIGZhY3RvcjMgKyBkWzFdICogZmFjdG9yNDtcbiAgb3V0WzJdID0gYVsyXSAqIGZhY3RvcjEgKyBiWzJdICogZmFjdG9yMiArIGNbMl0gKiBmYWN0b3IzICsgZFsyXSAqIGZhY3RvcjQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHJhbmRvbSB2ZWN0b3Igd2l0aCB0aGUgZ2l2ZW4gc2NhbGVcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IFtzY2FsZV0gTGVuZ3RoIG9mIHRoZSByZXN1bHRpbmcgdmVjdG9yLiBJZiBvbW1pdHRlZCwgYSB1bml0IHZlY3RvciB3aWxsIGJlIHJldHVybmVkXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbShvdXQsIHNjYWxlKSB7XG4gIHNjYWxlID0gc2NhbGUgfHwgMS4wO1xuICB2YXIgciA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wICogTWF0aC5QSTtcbiAgdmFyIHogPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIuMCAtIDEuMDtcbiAgdmFyIHpTY2FsZSA9IE1hdGguc3FydCgxLjAgLSB6ICogeikgKiBzY2FsZTtcbiAgb3V0WzBdID0gTWF0aC5jb3MocikgKiB6U2NhbGU7XG4gIG91dFsxXSA9IE1hdGguc2luKHIpICogelNjYWxlO1xuICBvdXRbMl0gPSB6ICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIG1hdDQuXG4gKiA0dGggdmVjdG9yIGNvbXBvbmVudCBpcyBpbXBsaWNpdGx5ICcxJ1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDQob3V0LCBhLCBtKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07XG4gIHZhciB3ID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiArIG1bMTVdO1xuICB3ID0gdyB8fCAxLjA7XG4gIG91dFswXSA9IChtWzBdICogeCArIG1bNF0gKiB5ICsgbVs4XSAqIHogKyBtWzEyXSkgLyB3O1xuICBvdXRbMV0gPSAobVsxXSAqIHggKyBtWzVdICogeSArIG1bOV0gKiB6ICsgbVsxM10pIC8gdztcbiAgb3V0WzJdID0gKG1bMl0gKiB4ICsgbVs2XSAqIHkgKyBtWzEwXSAqIHogKyBtWzE0XSkgLyB3O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBtYXQzLlxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IG0gdGhlIDN4MyBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0MyhvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXTtcbiAgb3V0WzBdID0geCAqIG1bMF0gKyB5ICogbVszXSArIHogKiBtWzZdO1xuICBvdXRbMV0gPSB4ICogbVsxXSArIHkgKiBtWzRdICsgeiAqIG1bN107XG4gIG91dFsyXSA9IHggKiBtWzJdICsgeSAqIG1bNV0gKyB6ICogbVs4XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjMyB3aXRoIGEgcXVhdFxuICogQ2FuIGFsc28gYmUgdXNlZCBmb3IgZHVhbCBxdWF0ZXJuaW9ucy4gKE11bHRpcGx5IGl0IHdpdGggdGhlIHJlYWwgcGFydClcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIHF1YXRlcm5pb24gdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUXVhdChvdXQsIGEsIHEpIHtcbiAgLy8gYmVuY2htYXJrczogaHR0cHM6Ly9qc3BlcmYuY29tL3F1YXRlcm5pb24tdHJhbnNmb3JtLXZlYzMtaW1wbGVtZW50YXRpb25zLWZpeGVkXG4gIHZhciBxeCA9IHFbMF0sXG4gICAgICBxeSA9IHFbMV0sXG4gICAgICBxeiA9IHFbMl0sXG4gICAgICBxdyA9IHFbM107XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07IC8vIHZhciBxdmVjID0gW3F4LCBxeSwgcXpdO1xuICAvLyB2YXIgdXYgPSB2ZWMzLmNyb3NzKFtdLCBxdmVjLCBhKTtcblxuICB2YXIgdXZ4ID0gcXkgKiB6IC0gcXogKiB5LFxuICAgICAgdXZ5ID0gcXogKiB4IC0gcXggKiB6LFxuICAgICAgdXZ6ID0gcXggKiB5IC0gcXkgKiB4OyAvLyB2YXIgdXV2ID0gdmVjMy5jcm9zcyhbXSwgcXZlYywgdXYpO1xuXG4gIHZhciB1dXZ4ID0gcXkgKiB1dnogLSBxeiAqIHV2eSxcbiAgICAgIHV1dnkgPSBxeiAqIHV2eCAtIHF4ICogdXZ6LFxuICAgICAgdXV2eiA9IHF4ICogdXZ5IC0gcXkgKiB1dng7IC8vIHZlYzMuc2NhbGUodXYsIHV2LCAyICogdyk7XG5cbiAgdmFyIHcyID0gcXcgKiAyO1xuICB1dnggKj0gdzI7XG4gIHV2eSAqPSB3MjtcbiAgdXZ6ICo9IHcyOyAvLyB2ZWMzLnNjYWxlKHV1diwgdXV2LCAyKTtcblxuICB1dXZ4ICo9IDI7XG4gIHV1dnkgKj0gMjtcbiAgdXV2eiAqPSAyOyAvLyByZXR1cm4gdmVjMy5hZGQob3V0LCBhLCB2ZWMzLmFkZChvdXQsIHV2LCB1dXYpKTtcblxuICBvdXRbMF0gPSB4ICsgdXZ4ICsgdXV2eDtcbiAgb3V0WzFdID0geSArIHV2eSArIHV1dnk7XG4gIG91dFsyXSA9IHogKyB1dnogKyB1dXZ6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGUgYSAzRCB2ZWN0b3IgYXJvdW5kIHRoZSB4LWF4aXNcbiAqIEBwYXJhbSB7dmVjM30gb3V0IFRoZSByZWNlaXZpbmcgdmVjM1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCBUaGUgYW5nbGUgb2Ygcm90YXRpb24gaW4gcmFkaWFuc1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgICByID0gW107IC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cblxuICBwWzBdID0gYVswXSAtIGJbMF07XG4gIHBbMV0gPSBhWzFdIC0gYlsxXTtcbiAgcFsyXSA9IGFbMl0gLSBiWzJdOyAvL3BlcmZvcm0gcm90YXRpb25cblxuICByWzBdID0gcFswXTtcbiAgclsxXSA9IHBbMV0gKiBNYXRoLmNvcyhyYWQpIC0gcFsyXSAqIE1hdGguc2luKHJhZCk7XG4gIHJbMl0gPSBwWzFdICogTWF0aC5zaW4ocmFkKSArIHBbMl0gKiBNYXRoLmNvcyhyYWQpOyAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG5cbiAgb3V0WzBdID0gclswXSArIGJbMF07XG4gIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSByWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlIGEgM0QgdmVjdG9yIGFyb3VuZCB0aGUgeS1heGlzXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWShvdXQsIGEsIGIsIHJhZCkge1xuICB2YXIgcCA9IFtdLFxuICAgICAgciA9IFtdOyAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXG5cbiAgcFswXSA9IGFbMF0gLSBiWzBdO1xuICBwWzFdID0gYVsxXSAtIGJbMV07XG4gIHBbMl0gPSBhWzJdIC0gYlsyXTsgLy9wZXJmb3JtIHJvdGF0aW9uXG5cbiAgclswXSA9IHBbMl0gKiBNYXRoLnNpbihyYWQpICsgcFswXSAqIE1hdGguY29zKHJhZCk7XG4gIHJbMV0gPSBwWzFdO1xuICByWzJdID0gcFsyXSAqIE1hdGguY29zKHJhZCkgLSBwWzBdICogTWF0aC5zaW4ocmFkKTsgLy90cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuXG4gIG91dFswXSA9IHJbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSByWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gclsyXSArIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHotYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVoob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzBdICogTWF0aC5jb3MocmFkKSAtIHBbMV0gKiBNYXRoLnNpbihyYWQpO1xuICByWzFdID0gcFswXSAqIE1hdGguc2luKHJhZCkgKyBwWzFdICogTWF0aC5jb3MocmFkKTtcbiAgclsyXSA9IHBbMl07IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZXQgdGhlIGFuZ2xlIGJldHdlZW4gdHdvIDNEIHZlY3RvcnNcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBhbmdsZSBpbiByYWRpYW5zXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFuZ2xlKGEsIGIpIHtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGF6ID0gYVsyXSxcbiAgICAgIGJ4ID0gYlswXSxcbiAgICAgIGJ5ID0gYlsxXSxcbiAgICAgIGJ6ID0gYlsyXSxcbiAgICAgIG1hZzEgPSBNYXRoLnNxcnQoYXggKiBheCArIGF5ICogYXkgKyBheiAqIGF6KSxcbiAgICAgIG1hZzIgPSBNYXRoLnNxcnQoYnggKiBieCArIGJ5ICogYnkgKyBieiAqIGJ6KSxcbiAgICAgIG1hZyA9IG1hZzEgKiBtYWcyLFxuICAgICAgY29zaW5lID0gbWFnICYmIGRvdChhLCBiKSAvIG1hZztcbiAgcmV0dXJuIE1hdGguYWNvcyhNYXRoLm1pbihNYXRoLm1heChjb3NpbmUsIC0xKSwgMSkpO1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHplcm9cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB6ZXJvKG91dCkge1xuICBvdXRbMF0gPSAwLjA7XG4gIG91dFsxXSA9IDAuMDtcbiAgb3V0WzJdID0gMC4wO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgdmVjdG9yXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwidmVjMyhcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiKVwiO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl07XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSk7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5kaXZpZGV9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRpdiA9IGRpdmlkZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpc3RhbmNlfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBkaXN0ID0gZGlzdGFuY2U7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5zcXVhcmVkRGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckRpc3QgPSBzcXVhcmVkRGlzdGFuY2U7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5sZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWRMZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XG4vKipcbiAqIFBlcmZvcm0gc29tZSBvcGVyYXRpb24gb3ZlciBhbiBhcnJheSBvZiB2ZWMzcy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBhcnJheSBvZiB2ZWN0b3JzIHRvIGl0ZXJhdGUgb3ZlclxuICogQHBhcmFtIHtOdW1iZXJ9IHN0cmlkZSBOdW1iZXIgb2YgZWxlbWVudHMgYmV0d2VlbiB0aGUgc3RhcnQgb2YgZWFjaCB2ZWMzLiBJZiAwIGFzc3VtZXMgdGlnaHRseSBwYWNrZWRcbiAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgTnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNraXAgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCBOdW1iZXIgb2YgdmVjM3MgdG8gaXRlcmF0ZSBvdmVyLiBJZiAwIGl0ZXJhdGVzIG92ZXIgZW50aXJlIGFycmF5XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHZlY3RvciBpbiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbYXJnXSBhZGRpdGlvbmFsIGFyZ3VtZW50IHRvIHBhc3MgdG8gZm5cbiAqIEByZXR1cm5zIHtBcnJheX0gYVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBmb3JFYWNoID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdmVjID0gY3JlYXRlKCk7XG4gIHJldHVybiBmdW5jdGlvbiAoYSwgc3RyaWRlLCBvZmZzZXQsIGNvdW50LCBmbiwgYXJnKSB7XG4gICAgdmFyIGksIGw7XG5cbiAgICBpZiAoIXN0cmlkZSkge1xuICAgICAgc3RyaWRlID0gMztcbiAgICB9XG5cbiAgICBpZiAoIW9mZnNldCkge1xuICAgICAgb2Zmc2V0ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoY291bnQpIHtcbiAgICAgIGwgPSBNYXRoLm1pbihjb3VudCAqIHN0cmlkZSArIG9mZnNldCwgYS5sZW5ndGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsID0gYS5sZW5ndGg7XG4gICAgfVxuXG4gICAgZm9yIChpID0gb2Zmc2V0OyBpIDwgbDsgaSArPSBzdHJpZGUpIHtcbiAgICAgIHZlY1swXSA9IGFbaV07XG4gICAgICB2ZWNbMV0gPSBhW2kgKyAxXTtcbiAgICAgIHZlY1syXSA9IGFbaSArIDJdO1xuICAgICAgZm4odmVjLCB2ZWMsIGFyZyk7XG4gICAgICBhW2ldID0gdmVjWzBdO1xuICAgICAgYVtpICsgMV0gPSB2ZWNbMV07XG4gICAgICBhW2kgKyAyXSA9IHZlY1syXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbiAgfTtcbn0oKTsiLCJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxuICogNHg0IE1hdHJpeDxicj5Gb3JtYXQ6IGNvbHVtbi1tYWpvciwgd2hlbiB0eXBlZCBvdXQgaXQgbG9va3MgbGlrZSByb3ctbWFqb3I8YnI+VGhlIG1hdHJpY2VzIGFyZSBiZWluZyBwb3N0IG11bHRpcGxpZWQuXG4gKiBAbW9kdWxlIG1hdDRcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgaWRlbnRpdHkgbWF0NFxuICpcbiAqIEByZXR1cm5zIHttYXQ0fSBhIG5ldyA0eDQgbWF0cml4XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gMDtcbiAgICBvdXRbNF0gPSAwO1xuICAgIG91dFs2XSA9IDA7XG4gICAgb3V0WzddID0gMDtcbiAgICBvdXRbOF0gPSAwO1xuICAgIG91dFs5XSA9IDA7XG4gICAgb3V0WzExXSA9IDA7XG4gICAgb3V0WzEyXSA9IDA7XG4gICAgb3V0WzEzXSA9IDA7XG4gICAgb3V0WzE0XSA9IDA7XG4gIH1cblxuICBvdXRbMF0gPSAxO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbMTBdID0gMTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbWF0NCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIG1hdHJpeFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIG1hdHJpeCB0byBjbG9uZVxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICBvdXRbNF0gPSBhWzRdO1xuICBvdXRbNV0gPSBhWzVdO1xuICBvdXRbNl0gPSBhWzZdO1xuICBvdXRbN10gPSBhWzddO1xuICBvdXRbOF0gPSBhWzhdO1xuICBvdXRbOV0gPSBhWzldO1xuICBvdXRbMTBdID0gYVsxMF07XG4gIG91dFsxMV0gPSBhWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdO1xuICBvdXRbMTNdID0gYVsxM107XG4gIG91dFsxNF0gPSBhWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgbWF0NCB0byBhbm90aGVyXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIG91dFs5XSA9IGFbOV07XG4gIG91dFsxMF0gPSBhWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdO1xuICBvdXRbMTJdID0gYVsxMl07XG4gIG91dFsxM10gPSBhWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdO1xuICBvdXRbMTVdID0gYVsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBtYXQ0IHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDMgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTMgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggNylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggOClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggOSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTApXG4gKiBAcGFyYW0ge051bWJlcn0gbTIzIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDMgcG9zaXRpb24gKGluZGV4IDExKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMCBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAxMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzEgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMTMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMyIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDIgcG9zaXRpb24gKGluZGV4IDE0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMyBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxNSlcbiAqIEByZXR1cm5zIHttYXQ0fSBBIG5ldyBtYXQ0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMobTAwLCBtMDEsIG0wMiwgbTAzLCBtMTAsIG0xMSwgbTEyLCBtMTMsIG0yMCwgbTIxLCBtMjIsIG0yMywgbTMwLCBtMzEsIG0zMiwgbTMzKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMDI7XG4gIG91dFszXSA9IG0wMztcbiAgb3V0WzRdID0gbTEwO1xuICBvdXRbNV0gPSBtMTE7XG4gIG91dFs2XSA9IG0xMjtcbiAgb3V0WzddID0gbTEzO1xuICBvdXRbOF0gPSBtMjA7XG4gIG91dFs5XSA9IG0yMTtcbiAgb3V0WzEwXSA9IG0yMjtcbiAgb3V0WzExXSA9IG0yMztcbiAgb3V0WzEyXSA9IG0zMDtcbiAgb3V0WzEzXSA9IG0zMTtcbiAgb3V0WzE0XSA9IG0zMjtcbiAgb3V0WzE1XSA9IG0zMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgbWF0NCB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDMgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTMgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggNylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggOClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggOSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTApXG4gKiBAcGFyYW0ge051bWJlcn0gbTIzIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDMgcG9zaXRpb24gKGluZGV4IDExKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMCBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAxMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzEgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMTMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMyIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDIgcG9zaXRpb24gKGluZGV4IDE0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMyBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxNSlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgbTAwLCBtMDEsIG0wMiwgbTAzLCBtMTAsIG0xMSwgbTEyLCBtMTMsIG0yMCwgbTIxLCBtMjIsIG0yMywgbTMwLCBtMzEsIG0zMiwgbTMzKSB7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMDI7XG4gIG91dFszXSA9IG0wMztcbiAgb3V0WzRdID0gbTEwO1xuICBvdXRbNV0gPSBtMTE7XG4gIG91dFs2XSA9IG0xMjtcbiAgb3V0WzddID0gbTEzO1xuICBvdXRbOF0gPSBtMjA7XG4gIG91dFs5XSA9IG0yMTtcbiAgb3V0WzEwXSA9IG0yMjtcbiAgb3V0WzExXSA9IG0yMztcbiAgb3V0WzEyXSA9IG0zMDtcbiAgb3V0WzEzXSA9IG0zMTtcbiAgb3V0WzE0XSA9IG0zMjtcbiAgb3V0WzE1XSA9IG0zMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IGEgbWF0NCB0byB0aGUgaWRlbnRpdHkgbWF0cml4XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkob3V0KSB7XG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDE7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zcG9zZSB0aGUgdmFsdWVzIG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc3Bvc2Uob3V0LCBhKSB7XG4gIC8vIElmIHdlIGFyZSB0cmFuc3Bvc2luZyBvdXJzZWx2ZXMgd2UgY2FuIHNraXAgYSBmZXcgc3RlcHMgYnV0IGhhdmUgdG8gY2FjaGUgc29tZSB2YWx1ZXNcbiAgaWYgKG91dCA9PT0gYSkge1xuICAgIHZhciBhMDEgPSBhWzFdLFxuICAgICAgICBhMDIgPSBhWzJdLFxuICAgICAgICBhMDMgPSBhWzNdO1xuICAgIHZhciBhMTIgPSBhWzZdLFxuICAgICAgICBhMTMgPSBhWzddO1xuICAgIHZhciBhMjMgPSBhWzExXTtcbiAgICBvdXRbMV0gPSBhWzRdO1xuICAgIG91dFsyXSA9IGFbOF07XG4gICAgb3V0WzNdID0gYVsxMl07XG4gICAgb3V0WzRdID0gYTAxO1xuICAgIG91dFs2XSA9IGFbOV07XG4gICAgb3V0WzddID0gYVsxM107XG4gICAgb3V0WzhdID0gYTAyO1xuICAgIG91dFs5XSA9IGExMjtcbiAgICBvdXRbMTFdID0gYVsxNF07XG4gICAgb3V0WzEyXSA9IGEwMztcbiAgICBvdXRbMTNdID0gYTEzO1xuICAgIG91dFsxNF0gPSBhMjM7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzRdO1xuICAgIG91dFsyXSA9IGFbOF07XG4gICAgb3V0WzNdID0gYVsxMl07XG4gICAgb3V0WzRdID0gYVsxXTtcbiAgICBvdXRbNV0gPSBhWzVdO1xuICAgIG91dFs2XSA9IGFbOV07XG4gICAgb3V0WzddID0gYVsxM107XG4gICAgb3V0WzhdID0gYVsyXTtcbiAgICBvdXRbOV0gPSBhWzZdO1xuICAgIG91dFsxMF0gPSBhWzEwXTtcbiAgICBvdXRbMTFdID0gYVsxNF07XG4gICAgb3V0WzEyXSA9IGFbM107XG4gICAgb3V0WzEzXSA9IGFbN107XG4gICAgb3V0WzE0XSA9IGFbMTFdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEludmVydHMgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgICAgYTExID0gYVs1XSxcbiAgICAgIGExMiA9IGFbNl0sXG4gICAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICAgIGEyMSA9IGFbOV0sXG4gICAgICBhMjIgPSBhWzEwXSxcbiAgICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgICBhMzEgPSBhWzEzXSxcbiAgICAgIGEzMiA9IGFbMTRdLFxuICAgICAgYTMzID0gYVsxNV07XG4gIHZhciBiMDAgPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XG4gIHZhciBiMDEgPSBhMDAgKiBhMTIgLSBhMDIgKiBhMTA7XG4gIHZhciBiMDIgPSBhMDAgKiBhMTMgLSBhMDMgKiBhMTA7XG4gIHZhciBiMDMgPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XG4gIHZhciBiMDQgPSBhMDEgKiBhMTMgLSBhMDMgKiBhMTE7XG4gIHZhciBiMDUgPSBhMDIgKiBhMTMgLSBhMDMgKiBhMTI7XG4gIHZhciBiMDYgPSBhMjAgKiBhMzEgLSBhMjEgKiBhMzA7XG4gIHZhciBiMDcgPSBhMjAgKiBhMzIgLSBhMjIgKiBhMzA7XG4gIHZhciBiMDggPSBhMjAgKiBhMzMgLSBhMjMgKiBhMzA7XG4gIHZhciBiMDkgPSBhMjEgKiBhMzIgLSBhMjIgKiBhMzE7XG4gIHZhciBiMTAgPSBhMjEgKiBhMzMgLSBhMjMgKiBhMzE7XG4gIHZhciBiMTEgPSBhMjIgKiBhMzMgLSBhMjMgKiBhMzI7IC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcblxuICB2YXIgZGV0ID0gYjAwICogYjExIC0gYjAxICogYjEwICsgYjAyICogYjA5ICsgYjAzICogYjA4IC0gYjA0ICogYjA3ICsgYjA1ICogYjA2O1xuXG4gIGlmICghZGV0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBkZXQgPSAxLjAgLyBkZXQ7XG4gIG91dFswXSA9IChhMTEgKiBiMTEgLSBhMTIgKiBiMTAgKyBhMTMgKiBiMDkpICogZGV0O1xuICBvdXRbMV0gPSAoYTAyICogYjEwIC0gYTAxICogYjExIC0gYTAzICogYjA5KSAqIGRldDtcbiAgb3V0WzJdID0gKGEzMSAqIGIwNSAtIGEzMiAqIGIwNCArIGEzMyAqIGIwMykgKiBkZXQ7XG4gIG91dFszXSA9IChhMjIgKiBiMDQgLSBhMjEgKiBiMDUgLSBhMjMgKiBiMDMpICogZGV0O1xuICBvdXRbNF0gPSAoYTEyICogYjA4IC0gYTEwICogYjExIC0gYTEzICogYjA3KSAqIGRldDtcbiAgb3V0WzVdID0gKGEwMCAqIGIxMSAtIGEwMiAqIGIwOCArIGEwMyAqIGIwNykgKiBkZXQ7XG4gIG91dFs2XSA9IChhMzIgKiBiMDIgLSBhMzAgKiBiMDUgLSBhMzMgKiBiMDEpICogZGV0O1xuICBvdXRbN10gPSAoYTIwICogYjA1IC0gYTIyICogYjAyICsgYTIzICogYjAxKSAqIGRldDtcbiAgb3V0WzhdID0gKGExMCAqIGIxMCAtIGExMSAqIGIwOCArIGExMyAqIGIwNikgKiBkZXQ7XG4gIG91dFs5XSA9IChhMDEgKiBiMDggLSBhMDAgKiBiMTAgLSBhMDMgKiBiMDYpICogZGV0O1xuICBvdXRbMTBdID0gKGEzMCAqIGIwNCAtIGEzMSAqIGIwMiArIGEzMyAqIGIwMCkgKiBkZXQ7XG4gIG91dFsxMV0gPSAoYTIxICogYjAyIC0gYTIwICogYjA0IC0gYTIzICogYjAwKSAqIGRldDtcbiAgb3V0WzEyXSA9IChhMTEgKiBiMDcgLSBhMTAgKiBiMDkgLSBhMTIgKiBiMDYpICogZGV0O1xuICBvdXRbMTNdID0gKGEwMCAqIGIwOSAtIGEwMSAqIGIwNyArIGEwMiAqIGIwNikgKiBkZXQ7XG4gIG91dFsxNF0gPSAoYTMxICogYjAxIC0gYTMwICogYjAzIC0gYTMyICogYjAwKSAqIGRldDtcbiAgb3V0WzE1XSA9IChhMjAgKiBiMDMgLSBhMjEgKiBiMDEgKyBhMjIgKiBiMDApICogZGV0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRqb2ludChvdXQsIGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgICAgYTExID0gYVs1XSxcbiAgICAgIGExMiA9IGFbNl0sXG4gICAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICAgIGEyMSA9IGFbOV0sXG4gICAgICBhMjIgPSBhWzEwXSxcbiAgICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgICBhMzEgPSBhWzEzXSxcbiAgICAgIGEzMiA9IGFbMTRdLFxuICAgICAgYTMzID0gYVsxNV07XG4gIG91dFswXSA9IGExMSAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIxICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgKyBhMzEgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKTtcbiAgb3V0WzFdID0gLShhMDEgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMSAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMxICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMikpO1xuICBvdXRbMl0gPSBhMDEgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSAtIGExMSAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMxICogKGEwMiAqIGExMyAtIGEwMyAqIGExMik7XG4gIG91dFszXSA9IC0oYTAxICogKGExMiAqIGEyMyAtIGExMyAqIGEyMikgLSBhMTEgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKSArIGEyMSAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpKTtcbiAgb3V0WzRdID0gLShhMTAgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMCAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpICsgYTMwICogKGExMiAqIGEyMyAtIGExMyAqIGEyMikpO1xuICBvdXRbNV0gPSBhMDAgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMCAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMwICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMik7XG4gIG91dFs2XSA9IC0oYTAwICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgLSBhMTAgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMCAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpKTtcbiAgb3V0WzddID0gYTAwICogKGExMiAqIGEyMyAtIGExMyAqIGEyMikgLSBhMTAgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKSArIGEyMCAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpO1xuICBvdXRbOF0gPSBhMTAgKiAoYTIxICogYTMzIC0gYTIzICogYTMxKSAtIGEyMCAqIChhMTEgKiBhMzMgLSBhMTMgKiBhMzEpICsgYTMwICogKGExMSAqIGEyMyAtIGExMyAqIGEyMSk7XG4gIG91dFs5XSA9IC0oYTAwICogKGEyMSAqIGEzMyAtIGEyMyAqIGEzMSkgLSBhMjAgKiAoYTAxICogYTMzIC0gYTAzICogYTMxKSArIGEzMCAqIChhMDEgKiBhMjMgLSBhMDMgKiBhMjEpKTtcbiAgb3V0WzEwXSA9IGEwMCAqIChhMTEgKiBhMzMgLSBhMTMgKiBhMzEpIC0gYTEwICogKGEwMSAqIGEzMyAtIGEwMyAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTEzIC0gYTAzICogYTExKTtcbiAgb3V0WzExXSA9IC0oYTAwICogKGExMSAqIGEyMyAtIGExMyAqIGEyMSkgLSBhMTAgKiAoYTAxICogYTIzIC0gYTAzICogYTIxKSArIGEyMCAqIChhMDEgKiBhMTMgLSBhMDMgKiBhMTEpKTtcbiAgb3V0WzEyXSA9IC0oYTEwICogKGEyMSAqIGEzMiAtIGEyMiAqIGEzMSkgLSBhMjAgKiAoYTExICogYTMyIC0gYTEyICogYTMxKSArIGEzMCAqIChhMTEgKiBhMjIgLSBhMTIgKiBhMjEpKTtcbiAgb3V0WzEzXSA9IGEwMCAqIChhMjEgKiBhMzIgLSBhMjIgKiBhMzEpIC0gYTIwICogKGEwMSAqIGEzMiAtIGEwMiAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTIyIC0gYTAyICogYTIxKTtcbiAgb3V0WzE0XSA9IC0oYTAwICogKGExMSAqIGEzMiAtIGExMiAqIGEzMSkgLSBhMTAgKiAoYTAxICogYTMyIC0gYTAyICogYTMxKSArIGEzMCAqIChhMDEgKiBhMTIgLSBhMDIgKiBhMTEpKTtcbiAgb3V0WzE1XSA9IGEwMCAqIChhMTEgKiBhMjIgLSBhMTIgKiBhMjEpIC0gYTEwICogKGEwMSAqIGEyMiAtIGEwMiAqIGEyMSkgKyBhMjAgKiAoYTAxICogYTEyIC0gYTAyICogYTExKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRldGVybWluYW50IG9mIGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5hbnQoYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTtcbiAgdmFyIGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcbiAgdmFyIGIwMSA9IGEwMCAqIGExMiAtIGEwMiAqIGExMDtcbiAgdmFyIGIwMiA9IGEwMCAqIGExMyAtIGEwMyAqIGExMDtcbiAgdmFyIGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcbiAgdmFyIGIwNCA9IGEwMSAqIGExMyAtIGEwMyAqIGExMTtcbiAgdmFyIGIwNSA9IGEwMiAqIGExMyAtIGEwMyAqIGExMjtcbiAgdmFyIGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcbiAgdmFyIGIwNyA9IGEyMCAqIGEzMiAtIGEyMiAqIGEzMDtcbiAgdmFyIGIwOCA9IGEyMCAqIGEzMyAtIGEyMyAqIGEzMDtcbiAgdmFyIGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMTtcbiAgdmFyIGIxMCA9IGEyMSAqIGEzMyAtIGEyMyAqIGEzMTtcbiAgdmFyIGIxMSA9IGEyMiAqIGEzMyAtIGEyMyAqIGEzMjsgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuXG4gIHJldHVybiBiMDAgKiBiMTEgLSBiMDEgKiBiMTAgKyBiMDIgKiBiMDkgKyBiMDMgKiBiMDggLSBiMDQgKiBiMDcgKyBiMDUgKiBiMDY7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIG1hdDRzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdOyAvLyBDYWNoZSBvbmx5IHRoZSBjdXJyZW50IGxpbmUgb2YgdGhlIHNlY29uZCBtYXRyaXhcblxuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdLFxuICAgICAgYjMgPSBiWzNdO1xuICBvdXRbMF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzFdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFsyXSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbM10gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgYjAgPSBiWzRdO1xuICBiMSA9IGJbNV07XG4gIGIyID0gYls2XTtcbiAgYjMgPSBiWzddO1xuICBvdXRbNF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzVdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFs2XSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbN10gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgYjAgPSBiWzhdO1xuICBiMSA9IGJbOV07XG4gIGIyID0gYlsxMF07XG4gIGIzID0gYlsxMV07XG4gIG91dFs4XSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbOV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzEwXSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbMTFdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIGIwID0gYlsxMl07XG4gIGIxID0gYlsxM107XG4gIGIyID0gYlsxNF07XG4gIGIzID0gYlsxNV07XG4gIG91dFsxMl0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzEzXSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbMTRdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFsxNV0gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNsYXRlIGEgbWF0NCBieSB0aGUgZ2l2ZW4gdmVjdG9yXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gdHJhbnNsYXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiB2ZWN0b3IgdG8gdHJhbnNsYXRlIGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShvdXQsIGEsIHYpIHtcbiAgdmFyIHggPSB2WzBdLFxuICAgICAgeSA9IHZbMV0sXG4gICAgICB6ID0gdlsyXTtcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcbiAgdmFyIGEyMCwgYTIxLCBhMjIsIGEyMztcblxuICBpZiAoYSA9PT0gb3V0KSB7XG4gICAgb3V0WzEyXSA9IGFbMF0gKiB4ICsgYVs0XSAqIHkgKyBhWzhdICogeiArIGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzFdICogeCArIGFbNV0gKiB5ICsgYVs5XSAqIHogKyBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsyXSAqIHggKyBhWzZdICogeSArIGFbMTBdICogeiArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzNdICogeCArIGFbN10gKiB5ICsgYVsxMV0gKiB6ICsgYVsxNV07XG4gIH0gZWxzZSB7XG4gICAgYTAwID0gYVswXTtcbiAgICBhMDEgPSBhWzFdO1xuICAgIGEwMiA9IGFbMl07XG4gICAgYTAzID0gYVszXTtcbiAgICBhMTAgPSBhWzRdO1xuICAgIGExMSA9IGFbNV07XG4gICAgYTEyID0gYVs2XTtcbiAgICBhMTMgPSBhWzddO1xuICAgIGEyMCA9IGFbOF07XG4gICAgYTIxID0gYVs5XTtcbiAgICBhMjIgPSBhWzEwXTtcbiAgICBhMjMgPSBhWzExXTtcbiAgICBvdXRbMF0gPSBhMDA7XG4gICAgb3V0WzFdID0gYTAxO1xuICAgIG91dFsyXSA9IGEwMjtcbiAgICBvdXRbM10gPSBhMDM7XG4gICAgb3V0WzRdID0gYTEwO1xuICAgIG91dFs1XSA9IGExMTtcbiAgICBvdXRbNl0gPSBhMTI7XG4gICAgb3V0WzddID0gYTEzO1xuICAgIG91dFs4XSA9IGEyMDtcbiAgICBvdXRbOV0gPSBhMjE7XG4gICAgb3V0WzEwXSA9IGEyMjtcbiAgICBvdXRbMTFdID0gYTIzO1xuICAgIG91dFsxMl0gPSBhMDAgKiB4ICsgYTEwICogeSArIGEyMCAqIHogKyBhWzEyXTtcbiAgICBvdXRbMTNdID0gYTAxICogeCArIGExMSAqIHkgKyBhMjEgKiB6ICsgYVsxM107XG4gICAgb3V0WzE0XSA9IGEwMiAqIHggKyBhMTIgKiB5ICsgYTIyICogeiArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhMDMgKiB4ICsgYTEzICogeSArIGEyMyAqIHogKyBhWzE1XTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNjYWxlcyB0aGUgbWF0NCBieSB0aGUgZGltZW5zaW9ucyBpbiB0aGUgZ2l2ZW4gdmVjMyBub3QgdXNpbmcgdmVjdG9yaXphdGlvblxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHNjYWxlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiB0aGUgdmVjMyB0byBzY2FsZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIHYpIHtcbiAgdmFyIHggPSB2WzBdLFxuICAgICAgeSA9IHZbMV0sXG4gICAgICB6ID0gdlsyXTtcbiAgb3V0WzBdID0gYVswXSAqIHg7XG4gIG91dFsxXSA9IGFbMV0gKiB4O1xuICBvdXRbMl0gPSBhWzJdICogeDtcbiAgb3V0WzNdID0gYVszXSAqIHg7XG4gIG91dFs0XSA9IGFbNF0gKiB5O1xuICBvdXRbNV0gPSBhWzVdICogeTtcbiAgb3V0WzZdID0gYVs2XSAqIHk7XG4gIG91dFs3XSA9IGFbN10gKiB5O1xuICBvdXRbOF0gPSBhWzhdICogejtcbiAgb3V0WzldID0gYVs5XSAqIHo7XG4gIG91dFsxMF0gPSBhWzEwXSAqIHo7XG4gIG91dFsxMV0gPSBhWzExXSAqIHo7XG4gIG91dFsxMl0gPSBhWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdO1xuICBvdXRbMTRdID0gYVsxNF07XG4gIG91dFsxNV0gPSBhWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIG1hdDQgYnkgdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgZ2l2ZW4gYXhpc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIHRvIHJvdGF0ZSBhcm91bmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKG91dCwgYSwgcmFkLCBheGlzKSB7XG4gIHZhciB4ID0gYXhpc1swXSxcbiAgICAgIHkgPSBheGlzWzFdLFxuICAgICAgeiA9IGF4aXNbMl07XG4gIHZhciBsZW4gPSBNYXRoLmh5cG90KHgsIHksIHopO1xuICB2YXIgcywgYywgdDtcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcbiAgdmFyIGEyMCwgYTIxLCBhMjIsIGEyMztcbiAgdmFyIGIwMCwgYjAxLCBiMDI7XG4gIHZhciBiMTAsIGIxMSwgYjEyO1xuICB2YXIgYjIwLCBiMjEsIGIyMjtcblxuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGVuID0gMSAvIGxlbjtcbiAgeCAqPSBsZW47XG4gIHkgKj0gbGVuO1xuICB6ICo9IGxlbjtcbiAgcyA9IE1hdGguc2luKHJhZCk7XG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB0ID0gMSAtIGM7XG4gIGEwMCA9IGFbMF07XG4gIGEwMSA9IGFbMV07XG4gIGEwMiA9IGFbMl07XG4gIGEwMyA9IGFbM107XG4gIGExMCA9IGFbNF07XG4gIGExMSA9IGFbNV07XG4gIGExMiA9IGFbNl07XG4gIGExMyA9IGFbN107XG4gIGEyMCA9IGFbOF07XG4gIGEyMSA9IGFbOV07XG4gIGEyMiA9IGFbMTBdO1xuICBhMjMgPSBhWzExXTsgLy8gQ29uc3RydWN0IHRoZSBlbGVtZW50cyBvZiB0aGUgcm90YXRpb24gbWF0cml4XG5cbiAgYjAwID0geCAqIHggKiB0ICsgYztcbiAgYjAxID0geSAqIHggKiB0ICsgeiAqIHM7XG4gIGIwMiA9IHogKiB4ICogdCAtIHkgKiBzO1xuICBiMTAgPSB4ICogeSAqIHQgLSB6ICogcztcbiAgYjExID0geSAqIHkgKiB0ICsgYztcbiAgYjEyID0geiAqIHkgKiB0ICsgeCAqIHM7XG4gIGIyMCA9IHggKiB6ICogdCArIHkgKiBzO1xuICBiMjEgPSB5ICogeiAqIHQgLSB4ICogcztcbiAgYjIyID0geiAqIHogKiB0ICsgYzsgLy8gUGVyZm9ybSByb3RhdGlvbi1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSBhMDAgKiBiMDAgKyBhMTAgKiBiMDEgKyBhMjAgKiBiMDI7XG4gIG91dFsxXSA9IGEwMSAqIGIwMCArIGExMSAqIGIwMSArIGEyMSAqIGIwMjtcbiAgb3V0WzJdID0gYTAyICogYjAwICsgYTEyICogYjAxICsgYTIyICogYjAyO1xuICBvdXRbM10gPSBhMDMgKiBiMDAgKyBhMTMgKiBiMDEgKyBhMjMgKiBiMDI7XG4gIG91dFs0XSA9IGEwMCAqIGIxMCArIGExMCAqIGIxMSArIGEyMCAqIGIxMjtcbiAgb3V0WzVdID0gYTAxICogYjEwICsgYTExICogYjExICsgYTIxICogYjEyO1xuICBvdXRbNl0gPSBhMDIgKiBiMTAgKyBhMTIgKiBiMTEgKyBhMjIgKiBiMTI7XG4gIG91dFs3XSA9IGEwMyAqIGIxMCArIGExMyAqIGIxMSArIGEyMyAqIGIxMjtcbiAgb3V0WzhdID0gYTAwICogYjIwICsgYTEwICogYjIxICsgYTIwICogYjIyO1xuICBvdXRbOV0gPSBhMDEgKiBiMjAgKyBhMTEgKiBiMjEgKyBhMjEgKiBiMjI7XG4gIG91dFsxMF0gPSBhMDIgKiBiMjAgKyBhMTIgKiBiMjEgKyBhMjIgKiBiMjI7XG4gIG91dFsxMV0gPSBhMDMgKiBiMjAgKyBhMTMgKiBiMjEgKyBhMjMgKiBiMjI7XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIGxhc3Qgcm93XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBYIGF4aXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gIHZhciBhMTAgPSBhWzRdO1xuICB2YXIgYTExID0gYVs1XTtcbiAgdmFyIGExMiA9IGFbNl07XG4gIHZhciBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XTtcbiAgdmFyIGEyMSA9IGFbOV07XG4gIHZhciBhMjIgPSBhWzEwXTtcbiAgdmFyIGEyMyA9IGFbMTFdO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCByb3dzXG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzFdO1xuICAgIG91dFsyXSA9IGFbMl07XG4gICAgb3V0WzNdID0gYVszXTtcbiAgICBvdXRbMTJdID0gYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH0gLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG5cbiAgb3V0WzRdID0gYTEwICogYyArIGEyMCAqIHM7XG4gIG91dFs1XSA9IGExMSAqIGMgKyBhMjEgKiBzO1xuICBvdXRbNl0gPSBhMTIgKiBjICsgYTIyICogcztcbiAgb3V0WzddID0gYTEzICogYyArIGEyMyAqIHM7XG4gIG91dFs4XSA9IGEyMCAqIGMgLSBhMTAgKiBzO1xuICBvdXRbOV0gPSBhMjEgKiBjIC0gYTExICogcztcbiAgb3V0WzEwXSA9IGEyMiAqIGMgLSBhMTIgKiBzO1xuICBvdXRbMTFdID0gYTIzICogYyAtIGExMyAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBtYXRyaXggYnkgdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWSBheGlzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB2YXIgYTAwID0gYVswXTtcbiAgdmFyIGEwMSA9IGFbMV07XG4gIHZhciBhMDIgPSBhWzJdO1xuICB2YXIgYTAzID0gYVszXTtcbiAgdmFyIGEyMCA9IGFbOF07XG4gIHZhciBhMjEgPSBhWzldO1xuICB2YXIgYTIyID0gYVsxMF07XG4gIHZhciBhMjMgPSBhWzExXTtcblxuICBpZiAoYSAhPT0gb3V0KSB7XG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgcm93c1xuICAgIG91dFs0XSA9IGFbNF07XG4gICAgb3V0WzVdID0gYVs1XTtcbiAgICBvdXRbNl0gPSBhWzZdO1xuICAgIG91dFs3XSA9IGFbN107XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuXG4gIG91dFswXSA9IGEwMCAqIGMgLSBhMjAgKiBzO1xuICBvdXRbMV0gPSBhMDEgKiBjIC0gYTIxICogcztcbiAgb3V0WzJdID0gYTAyICogYyAtIGEyMiAqIHM7XG4gIG91dFszXSA9IGEwMyAqIGMgLSBhMjMgKiBzO1xuICBvdXRbOF0gPSBhMDAgKiBzICsgYTIwICogYztcbiAgb3V0WzldID0gYTAxICogcyArIGEyMSAqIGM7XG4gIG91dFsxMF0gPSBhMDIgKiBzICsgYTIyICogYztcbiAgb3V0WzExXSA9IGEwMyAqIHMgKyBhMjMgKiBjO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFogYXhpc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGEwMCA9IGFbMF07XG4gIHZhciBhMDEgPSBhWzFdO1xuICB2YXIgYTAyID0gYVsyXTtcbiAgdmFyIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdO1xuICB2YXIgYTExID0gYVs1XTtcbiAgdmFyIGExMiA9IGFbNl07XG4gIHZhciBhMTMgPSBhWzddO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCBsYXN0IHJvd1xuICAgIG91dFs4XSA9IGFbOF07XG4gICAgb3V0WzldID0gYVs5XTtcbiAgICBvdXRbMTBdID0gYVsxMF07XG4gICAgb3V0WzExXSA9IGFbMTFdO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbMF0gPSBhMDAgKiBjICsgYTEwICogcztcbiAgb3V0WzFdID0gYTAxICogYyArIGExMSAqIHM7XG4gIG91dFsyXSA9IGEwMiAqIGMgKyBhMTIgKiBzO1xuICBvdXRbM10gPSBhMDMgKiBjICsgYTEzICogcztcbiAgb3V0WzRdID0gYTEwICogYyAtIGEwMCAqIHM7XG4gIG91dFs1XSA9IGExMSAqIGMgLSBhMDEgKiBzO1xuICBvdXRbNl0gPSBhMTIgKiBjIC0gYTAyICogcztcbiAgb3V0WzddID0gYTEzICogYyAtIGEwMyAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciB0cmFuc2xhdGlvblxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgZGVzdCwgdmVjKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCwgdikge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdO1xuICBvdXRbMTNdID0gdlsxXTtcbiAgb3V0WzE0XSA9IHZbMl07XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSB2ZWN0b3Igc2NhbGluZ1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFNjYWxpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21TY2FsaW5nKG91dCwgdikge1xuICBvdXRbMF0gPSB2WzBdO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSB2WzFdO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gdlsyXTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBnaXZlbiBhbmdsZSBhcm91bmQgYSBnaXZlbiBheGlzXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnJvdGF0ZShkZXN0LCBkZXN0LCByYWQsIGF4aXMpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYXhpcyB0aGUgYXhpcyB0byByb3RhdGUgYXJvdW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvbihvdXQsIHJhZCwgYXhpcykge1xuICB2YXIgeCA9IGF4aXNbMF0sXG4gICAgICB5ID0gYXhpc1sxXSxcbiAgICAgIHogPSBheGlzWzJdO1xuICB2YXIgbGVuID0gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbiAgdmFyIHMsIGMsIHQ7XG5cbiAgaWYgKGxlbiA8IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGxlbiA9IDEgLyBsZW47XG4gIHggKj0gbGVuO1xuICB5ICo9IGxlbjtcbiAgeiAqPSBsZW47XG4gIHMgPSBNYXRoLnNpbihyYWQpO1xuICBjID0gTWF0aC5jb3MocmFkKTtcbiAgdCA9IDEgLSBjOyAvLyBQZXJmb3JtIHJvdGF0aW9uLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IHggKiB4ICogdCArIGM7XG4gIG91dFsxXSA9IHkgKiB4ICogdCArIHogKiBzO1xuICBvdXRbMl0gPSB6ICogeCAqIHQgLSB5ICogcztcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geCAqIHkgKiB0IC0geiAqIHM7XG4gIG91dFs1XSA9IHkgKiB5ICogdCArIGM7XG4gIG91dFs2XSA9IHogKiB5ICogdCArIHggKiBzO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB4ICogeiAqIHQgKyB5ICogcztcbiAgb3V0WzldID0geSAqIHogKiB0IC0geCAqIHM7XG4gIG91dFsxMF0gPSB6ICogeiAqIHQgKyBjO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBYIGF4aXNcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQucm90YXRlWChkZXN0LCBkZXN0LCByYWQpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21YUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBjO1xuICBvdXRbNl0gPSBzO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAtcztcbiAgb3V0WzEwXSA9IGM7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFkgYXhpc1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5yb3RhdGVZKGRlc3QsIGRlc3QsIHJhZCk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVlSb3RhdGlvbihvdXQsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTsgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IGM7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IC1zO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSBzO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gYztcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWiBheGlzXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnJvdGF0ZVooZGVzdCwgZGVzdCwgcmFkKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tWlJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpOyAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0gYztcbiAgb3V0WzFdID0gcztcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gLXM7XG4gIG91dFs1XSA9IGM7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24gcm90YXRpb24gYW5kIHZlY3RvciB0cmFuc2xhdGlvblxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcbiAqICAgICBsZXQgcXVhdE1hdCA9IG1hdDQuY3JlYXRlKCk7XG4gKiAgICAgcXVhdDQudG9NYXQ0KHF1YXQsIHF1YXRNYXQpO1xuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBxLCB2KSB7XG4gIC8vIFF1YXRlcm5pb24gbWF0aFxuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHh5ID0geCAqIHkyO1xuICB2YXIgeHogPSB4ICogejI7XG4gIHZhciB5eSA9IHkgKiB5MjtcbiAgdmFyIHl6ID0geSAqIHoyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSAoeXkgKyB6eik7XG4gIG91dFsxXSA9IHh5ICsgd3o7XG4gIG91dFsyXSA9IHh6IC0gd3k7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHh5IC0gd3o7XG4gIG91dFs1XSA9IDEgLSAoeHggKyB6eik7XG4gIG91dFs2XSA9IHl6ICsgd3g7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHh6ICsgd3k7XG4gIG91dFs5XSA9IHl6IC0gd3g7XG4gIG91dFsxMF0gPSAxIC0gKHh4ICsgeXkpO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbWF0NCBmcm9tIGEgZHVhbCBxdWF0LlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IE1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIER1YWwgUXVhdGVybmlvblxuICogQHJldHVybnMge21hdDR9IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVF1YXQyKG91dCwgYSkge1xuICB2YXIgdHJhbnNsYXRpb24gPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgdmFyIGJ4ID0gLWFbMF0sXG4gICAgICBieSA9IC1hWzFdLFxuICAgICAgYnogPSAtYVsyXSxcbiAgICAgIGJ3ID0gYVszXSxcbiAgICAgIGF4ID0gYVs0XSxcbiAgICAgIGF5ID0gYVs1XSxcbiAgICAgIGF6ID0gYVs2XSxcbiAgICAgIGF3ID0gYVs3XTtcbiAgdmFyIG1hZ25pdHVkZSA9IGJ4ICogYnggKyBieSAqIGJ5ICsgYnogKiBieiArIGJ3ICogYnc7IC8vT25seSBzY2FsZSBpZiBpdCBtYWtlcyBzZW5zZVxuXG4gIGlmIChtYWduaXR1ZGUgPiAwKSB7XG4gICAgdHJhbnNsYXRpb25bMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyIC8gbWFnbml0dWRlO1xuICAgIHRyYW5zbGF0aW9uWzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMiAvIG1hZ25pdHVkZTtcbiAgICB0cmFuc2xhdGlvblsyXSA9IChheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4KSAqIDIgLyBtYWduaXR1ZGU7XG4gIH0gZWxzZSB7XG4gICAgdHJhbnNsYXRpb25bMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyO1xuICAgIHRyYW5zbGF0aW9uWzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMjtcbiAgICB0cmFuc2xhdGlvblsyXSA9IChheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4KSAqIDI7XG4gIH1cblxuICBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQsIGEsIHRyYW5zbGF0aW9uKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yIGNvbXBvbmVudCBvZiBhIHRyYW5zZm9ybWF0aW9uXG4gKiAgbWF0cml4LiBJZiBhIG1hdHJpeCBpcyBidWlsdCB3aXRoIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uLFxuICogIHRoZSByZXR1cm5lZCB2ZWN0b3Igd2lsbCBiZSB0aGUgc2FtZSBhcyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yXG4gKiAgb3JpZ2luYWxseSBzdXBwbGllZC5cbiAqIEBwYXJhbSAge3ZlYzN9IG91dCBWZWN0b3IgdG8gcmVjZWl2ZSB0cmFuc2xhdGlvbiBjb21wb25lbnRcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcbiAqIEByZXR1cm4ge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2xhdGlvbihvdXQsIG1hdCkge1xuICBvdXRbMF0gPSBtYXRbMTJdO1xuICBvdXRbMV0gPSBtYXRbMTNdO1xuICBvdXRbMl0gPSBtYXRbMTRdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzY2FsaW5nIGZhY3RvciBjb21wb25lbnQgb2YgYSB0cmFuc2Zvcm1hdGlvblxuICogIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aCBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlXG4gKiAgd2l0aCBhIG5vcm1hbGl6ZWQgUXVhdGVybmlvbiBwYXJhbXRlciwgdGhlIHJldHVybmVkIHZlY3RvciB3aWxsIGJlXG4gKiAgdGhlIHNhbWUgYXMgdGhlIHNjYWxpbmcgdmVjdG9yXG4gKiAgb3JpZ2luYWxseSBzdXBwbGllZC5cbiAqIEBwYXJhbSAge3ZlYzN9IG91dCBWZWN0b3IgdG8gcmVjZWl2ZSBzY2FsaW5nIGZhY3RvciBjb21wb25lbnRcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcbiAqIEByZXR1cm4ge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY2FsaW5nKG91dCwgbWF0KSB7XG4gIHZhciBtMTEgPSBtYXRbMF07XG4gIHZhciBtMTIgPSBtYXRbMV07XG4gIHZhciBtMTMgPSBtYXRbMl07XG4gIHZhciBtMjEgPSBtYXRbNF07XG4gIHZhciBtMjIgPSBtYXRbNV07XG4gIHZhciBtMjMgPSBtYXRbNl07XG4gIHZhciBtMzEgPSBtYXRbOF07XG4gIHZhciBtMzIgPSBtYXRbOV07XG4gIHZhciBtMzMgPSBtYXRbMTBdO1xuICBvdXRbMF0gPSBNYXRoLmh5cG90KG0xMSwgbTEyLCBtMTMpO1xuICBvdXRbMV0gPSBNYXRoLmh5cG90KG0yMSwgbTIyLCBtMjMpO1xuICBvdXRbMl0gPSBNYXRoLmh5cG90KG0zMSwgbTMyLCBtMzMpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgcXVhdGVybmlvbiByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uYWwgY29tcG9uZW50XG4gKiAgb2YgYSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGhcbiAqICBmcm9tUm90YXRpb25UcmFuc2xhdGlvbiwgdGhlIHJldHVybmVkIHF1YXRlcm5pb24gd2lsbCBiZSB0aGVcbiAqICBzYW1lIGFzIHRoZSBxdWF0ZXJuaW9uIG9yaWdpbmFsbHkgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge3F1YXR9IG91dCBRdWF0ZXJuaW9uIHRvIHJlY2VpdmUgdGhlIHJvdGF0aW9uIGNvbXBvbmVudFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG1hdCBNYXRyaXggdG8gYmUgZGVjb21wb3NlZCAoaW5wdXQpXG4gKiBAcmV0dXJuIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um90YXRpb24ob3V0LCBtYXQpIHtcbiAgdmFyIHNjYWxpbmcgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgZ2V0U2NhbGluZyhzY2FsaW5nLCBtYXQpO1xuICB2YXIgaXMxID0gMSAvIHNjYWxpbmdbMF07XG4gIHZhciBpczIgPSAxIC8gc2NhbGluZ1sxXTtcbiAgdmFyIGlzMyA9IDEgLyBzY2FsaW5nWzJdO1xuICB2YXIgc20xMSA9IG1hdFswXSAqIGlzMTtcbiAgdmFyIHNtMTIgPSBtYXRbMV0gKiBpczI7XG4gIHZhciBzbTEzID0gbWF0WzJdICogaXMzO1xuICB2YXIgc20yMSA9IG1hdFs0XSAqIGlzMTtcbiAgdmFyIHNtMjIgPSBtYXRbNV0gKiBpczI7XG4gIHZhciBzbTIzID0gbWF0WzZdICogaXMzO1xuICB2YXIgc20zMSA9IG1hdFs4XSAqIGlzMTtcbiAgdmFyIHNtMzIgPSBtYXRbOV0gKiBpczI7XG4gIHZhciBzbTMzID0gbWF0WzEwXSAqIGlzMztcbiAgdmFyIHRyYWNlID0gc20xMSArIHNtMjIgKyBzbTMzO1xuICB2YXIgUyA9IDA7XG5cbiAgaWYgKHRyYWNlID4gMCkge1xuICAgIFMgPSBNYXRoLnNxcnQodHJhY2UgKyAxLjApICogMjtcbiAgICBvdXRbM10gPSAwLjI1ICogUztcbiAgICBvdXRbMF0gPSAoc20yMyAtIHNtMzIpIC8gUztcbiAgICBvdXRbMV0gPSAoc20zMSAtIHNtMTMpIC8gUztcbiAgICBvdXRbMl0gPSAoc20xMiAtIHNtMjEpIC8gUztcbiAgfSBlbHNlIGlmIChzbTExID4gc20yMiAmJiBzbTExID4gc20zMykge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20xMSAtIHNtMjIgLSBzbTMzKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMjMgLSBzbTMyKSAvIFM7XG4gICAgb3V0WzBdID0gMC4yNSAqIFM7XG4gICAgb3V0WzFdID0gKHNtMTIgKyBzbTIxKSAvIFM7XG4gICAgb3V0WzJdID0gKHNtMzEgKyBzbTEzKSAvIFM7XG4gIH0gZWxzZSBpZiAoc20yMiA+IHNtMzMpIHtcbiAgICBTID0gTWF0aC5zcXJ0KDEuMCArIHNtMjIgLSBzbTExIC0gc20zMykgKiAyO1xuICAgIG91dFszXSA9IChzbTMxIC0gc20xMykgLyBTO1xuICAgIG91dFswXSA9IChzbTEyICsgc20yMSkgLyBTO1xuICAgIG91dFsxXSA9IDAuMjUgKiBTO1xuICAgIG91dFsyXSA9IChzbTIzICsgc20zMikgLyBTO1xuICB9IGVsc2Uge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20zMyAtIHNtMTEgLSBzbTIyKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMTIgLSBzbTIxKSAvIFM7XG4gICAgb3V0WzBdID0gKHNtMzEgKyBzbTEzKSAvIFM7XG4gICAgb3V0WzFdID0gKHNtMjMgKyBzbTMyKSAvIFM7XG4gICAgb3V0WzJdID0gMC4yNSAqIFM7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uLCB2ZWN0b3IgdHJhbnNsYXRpb24gYW5kIHZlY3RvciBzY2FsZVxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcbiAqICAgICBsZXQgcXVhdE1hdCA9IG1hdDQuY3JlYXRlKCk7XG4gKiAgICAgcXVhdDQudG9NYXQ0KHF1YXQsIHF1YXRNYXQpO1xuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBzY2FsZSlcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge3F1YXQ0fSBxIFJvdGF0aW9uIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHMgU2NhbGluZyB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZShvdXQsIHEsIHYsIHMpIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICAgIHkgPSBxWzFdLFxuICAgICAgeiA9IHFbMl0sXG4gICAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgdmFyIHN4ID0gc1swXTtcbiAgdmFyIHN5ID0gc1sxXTtcbiAgdmFyIHN6ID0gc1syXTtcbiAgb3V0WzBdID0gKDEgLSAoeXkgKyB6eikpICogc3g7XG4gIG91dFsxXSA9ICh4eSArIHd6KSAqIHN4O1xuICBvdXRbMl0gPSAoeHogLSB3eSkgKiBzeDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gKHh5IC0gd3opICogc3k7XG4gIG91dFs1XSA9ICgxIC0gKHh4ICsgenopKSAqIHN5O1xuICBvdXRbNl0gPSAoeXogKyB3eCkgKiBzeTtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gKHh6ICsgd3kpICogc3o7XG4gIG91dFs5XSA9ICh5eiAtIHd4KSAqIHN6O1xuICBvdXRbMTBdID0gKDEgLSAoeHggKyB5eSkpICogc3o7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gdlswXTtcbiAgb3V0WzEzXSA9IHZbMV07XG4gIG91dFsxNF0gPSB2WzJdO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiwgdmVjdG9yIHRyYW5zbGF0aW9uIGFuZCB2ZWN0b3Igc2NhbGUsIHJvdGF0aW5nIGFuZCBzY2FsaW5nIGFyb3VuZCB0aGUgZ2l2ZW4gb3JpZ2luXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCB2ZWMpO1xuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIG9yaWdpbik7XG4gKiAgICAgbGV0IHF1YXRNYXQgPSBtYXQ0LmNyZWF0ZSgpO1xuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcbiAqICAgICBtYXQ0Lm11bHRpcGx5KGRlc3QsIHF1YXRNYXQpO1xuICogICAgIG1hdDQuc2NhbGUoZGVzdCwgc2NhbGUpXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgbmVnYXRpdmVPcmlnaW4pO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gcyBTY2FsaW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IG8gVGhlIG9yaWdpbiB2ZWN0b3IgYXJvdW5kIHdoaWNoIHRvIHNjYWxlIGFuZCByb3RhdGVcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZU9yaWdpbihvdXQsIHEsIHYsIHMsIG8pIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICAgIHkgPSBxWzFdLFxuICAgICAgeiA9IHFbMl0sXG4gICAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgdmFyIHN4ID0gc1swXTtcbiAgdmFyIHN5ID0gc1sxXTtcbiAgdmFyIHN6ID0gc1syXTtcbiAgdmFyIG94ID0gb1swXTtcbiAgdmFyIG95ID0gb1sxXTtcbiAgdmFyIG96ID0gb1syXTtcbiAgdmFyIG91dDAgPSAoMSAtICh5eSArIHp6KSkgKiBzeDtcbiAgdmFyIG91dDEgPSAoeHkgKyB3eikgKiBzeDtcbiAgdmFyIG91dDIgPSAoeHogLSB3eSkgKiBzeDtcbiAgdmFyIG91dDQgPSAoeHkgLSB3eikgKiBzeTtcbiAgdmFyIG91dDUgPSAoMSAtICh4eCArIHp6KSkgKiBzeTtcbiAgdmFyIG91dDYgPSAoeXogKyB3eCkgKiBzeTtcbiAgdmFyIG91dDggPSAoeHogKyB3eSkgKiBzejtcbiAgdmFyIG91dDkgPSAoeXogLSB3eCkgKiBzejtcbiAgdmFyIG91dDEwID0gKDEgLSAoeHggKyB5eSkpICogc3o7XG4gIG91dFswXSA9IG91dDA7XG4gIG91dFsxXSA9IG91dDE7XG4gIG91dFsyXSA9IG91dDI7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IG91dDQ7XG4gIG91dFs1XSA9IG91dDU7XG4gIG91dFs2XSA9IG91dDY7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IG91dDg7XG4gIG91dFs5XSA9IG91dDk7XG4gIG91dFsxMF0gPSBvdXQxMDtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdICsgb3ggLSAob3V0MCAqIG94ICsgb3V0NCAqIG95ICsgb3V0OCAqIG96KTtcbiAgb3V0WzEzXSA9IHZbMV0gKyBveSAtIChvdXQxICogb3ggKyBvdXQ1ICogb3kgKyBvdXQ5ICogb3opO1xuICBvdXRbMTRdID0gdlsyXSArIG96IC0gKG91dDIgKiBveCArIG91dDYgKiBveSArIG91dDEwICogb3opO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyBhIDR4NCBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIFF1YXRlcm5pb24gdG8gY3JlYXRlIG1hdHJpeCBmcm9tXG4gKlxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdChvdXQsIHEpIHtcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB5eCA9IHkgKiB4MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgenggPSB6ICogeDI7XG4gIHZhciB6eSA9IHogKiB5MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICBvdXRbMF0gPSAxIC0geXkgLSB6ejtcbiAgb3V0WzFdID0geXggKyB3ejtcbiAgb3V0WzJdID0genggLSB3eTtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geXggLSB3ejtcbiAgb3V0WzVdID0gMSAtIHh4IC0geno7XG4gIG91dFs2XSA9IHp5ICsgd3g7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHp4ICsgd3k7XG4gIG91dFs5XSA9IHp5IC0gd3g7XG4gIG91dFsxMF0gPSAxIC0geHggLSB5eTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBmcnVzdHVtIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge051bWJlcn0gbGVmdCBMZWZ0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gcmlnaHQgUmlnaHQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gdG9wIFRvcCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJ1c3R1bShvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XG4gIHZhciBybCA9IDEgLyAocmlnaHQgLSBsZWZ0KTtcbiAgdmFyIHRiID0gMSAvICh0b3AgLSBib3R0b20pO1xuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMF0gPSBuZWFyICogMiAqIHJsO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBuZWFyICogMiAqIHRiO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAocmlnaHQgKyBsZWZ0KSAqIHJsO1xuICBvdXRbOV0gPSAodG9wICsgYm90dG9tKSAqIHRiO1xuICBvdXRbMTBdID0gKGZhciArIG5lYXIpICogbmY7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gZmFyICogbmVhciAqIDIgKiBuZjtcbiAgb3V0WzE1XSA9IDA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFstMSwgMV0sXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdML09wZW5HTCdzIGNsaXAgdm9sdW1lLlxuICogUGFzc2luZyBudWxsL3VuZGVmaW5lZC9ubyB2YWx1ZSBmb3IgZmFyIHdpbGwgZ2VuZXJhdGUgaW5maW5pdGUgcHJvamVjdGlvbiBtYXRyaXguXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGZvdnkgVmVydGljYWwgZmllbGQgb2YgdmlldyBpbiByYWRpYW5zXG4gKiBAcGFyYW0ge251bWJlcn0gYXNwZWN0IEFzcGVjdCByYXRpby4gdHlwaWNhbGx5IHZpZXdwb3J0IHdpZHRoL2hlaWdodFxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW0sIGNhbiBiZSBudWxsIG9yIEluZmluaXR5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlTk8ob3V0LCBmb3Z5LCBhc3BlY3QsIG5lYXIsIGZhcikge1xuICB2YXIgZiA9IDEuMCAvIE1hdGgudGFuKGZvdnkgLyAyKSxcbiAgICAgIG5mO1xuICBvdXRbMF0gPSBmIC8gYXNwZWN0O1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBmO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTFdID0gLTE7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE1XSA9IDA7XG5cbiAgaWYgKGZhciAhPSBudWxsICYmIGZhciAhPT0gSW5maW5pdHkpIHtcbiAgICBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gICAgb3V0WzEwXSA9IChmYXIgKyBuZWFyKSAqIG5mO1xuICAgIG91dFsxNF0gPSAyICogZmFyICogbmVhciAqIG5mO1xuICB9IGVsc2Uge1xuICAgIG91dFsxMF0gPSAtMTtcbiAgICBvdXRbMTRdID0gLTIgKiBuZWFyO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0LnBlcnNwZWN0aXZlTk99XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHBlcnNwZWN0aXZlID0gcGVyc3BlY3RpdmVOTztcbi8qKlxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggc3VpdGFibGUgZm9yIFdlYkdQVSB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbMCwgMV0sXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdQVS9WdWxrYW4vRGlyZWN0WC9NZXRhbCdzIGNsaXAgdm9sdW1lLlxuICogUGFzc2luZyBudWxsL3VuZGVmaW5lZC9ubyB2YWx1ZSBmb3IgZmFyIHdpbGwgZ2VuZXJhdGUgaW5maW5pdGUgcHJvamVjdGlvbiBtYXRyaXguXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGZvdnkgVmVydGljYWwgZmllbGQgb2YgdmlldyBpbiByYWRpYW5zXG4gKiBAcGFyYW0ge251bWJlcn0gYXNwZWN0IEFzcGVjdCByYXRpby4gdHlwaWNhbGx5IHZpZXdwb3J0IHdpZHRoL2hlaWdodFxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW0sIGNhbiBiZSBudWxsIG9yIEluZmluaXR5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlWk8ob3V0LCBmb3Z5LCBhc3BlY3QsIG5lYXIsIGZhcikge1xuICB2YXIgZiA9IDEuMCAvIE1hdGgudGFuKGZvdnkgLyAyKSxcbiAgICAgIG5mO1xuICBvdXRbMF0gPSBmIC8gYXNwZWN0O1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBmO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTFdID0gLTE7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE1XSA9IDA7XG5cbiAgaWYgKGZhciAhPSBudWxsICYmIGZhciAhPT0gSW5maW5pdHkpIHtcbiAgICBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gICAgb3V0WzEwXSA9IGZhciAqIG5mO1xuICAgIG91dFsxNF0gPSBmYXIgKiBuZWFyICogbmY7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzEwXSA9IC0xO1xuICAgIG91dFsxNF0gPSAtbmVhcjtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGZpZWxkIG9mIHZpZXcuXG4gKiBUaGlzIGlzIHByaW1hcmlseSB1c2VmdWwgZm9yIGdlbmVyYXRpbmcgcHJvamVjdGlvbiBtYXRyaWNlcyB0byBiZSB1c2VkXG4gKiB3aXRoIHRoZSBzdGlsbCBleHBlcmllbWVudGFsIFdlYlZSIEFQSS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge09iamVjdH0gZm92IE9iamVjdCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgdmFsdWVzOiB1cERlZ3JlZXMsIGRvd25EZWdyZWVzLCBsZWZ0RGVncmVlcywgcmlnaHREZWdyZWVzXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwZXJzcGVjdGl2ZUZyb21GaWVsZE9mVmlldyhvdXQsIGZvdiwgbmVhciwgZmFyKSB7XG4gIHZhciB1cFRhbiA9IE1hdGgudGFuKGZvdi51cERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgZG93blRhbiA9IE1hdGgudGFuKGZvdi5kb3duRGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciBsZWZ0VGFuID0gTWF0aC50YW4oZm92LmxlZnREZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIHJpZ2h0VGFuID0gTWF0aC50YW4oZm92LnJpZ2h0RGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciB4U2NhbGUgPSAyLjAgLyAobGVmdFRhbiArIHJpZ2h0VGFuKTtcbiAgdmFyIHlTY2FsZSA9IDIuMCAvICh1cFRhbiArIGRvd25UYW4pO1xuICBvdXRbMF0gPSB4U2NhbGU7XG4gIG91dFsxXSA9IDAuMDtcbiAgb3V0WzJdID0gMC4wO1xuICBvdXRbM10gPSAwLjA7XG4gIG91dFs0XSA9IDAuMDtcbiAgb3V0WzVdID0geVNjYWxlO1xuICBvdXRbNl0gPSAwLjA7XG4gIG91dFs3XSA9IDAuMDtcbiAgb3V0WzhdID0gLSgobGVmdFRhbiAtIHJpZ2h0VGFuKSAqIHhTY2FsZSAqIDAuNSk7XG4gIG91dFs5XSA9ICh1cFRhbiAtIGRvd25UYW4pICogeVNjYWxlICogMC41O1xuICBvdXRbMTBdID0gZmFyIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMTFdID0gLTEuMDtcbiAgb3V0WzEyXSA9IDAuMDtcbiAgb3V0WzEzXSA9IDAuMDtcbiAgb3V0WzE0XSA9IGZhciAqIG5lYXIgLyAobmVhciAtIGZhcik7XG4gIG91dFsxNV0gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIG9ydGhvZ29uYWwgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWy0xLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR0wvT3BlbkdMJ3MgY2xpcCB2b2x1bWUuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGxlZnQgTGVmdCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gYm90dG9tIEJvdHRvbSBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IHRvcCBUb3AgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG9ydGhvTk8ob3V0LCBsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIG5lYXIsIGZhcikge1xuICB2YXIgbHIgPSAxIC8gKGxlZnQgLSByaWdodCk7XG4gIHZhciBidCA9IDEgLyAoYm90dG9tIC0gdG9wKTtcbiAgdmFyIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzBdID0gLTIgKiBscjtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gLTIgKiBidDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDIgKiBuZjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAobGVmdCArIHJpZ2h0KSAqIGxyO1xuICBvdXRbMTNdID0gKHRvcCArIGJvdHRvbSkgKiBidDtcbiAgb3V0WzE0XSA9IChmYXIgKyBuZWFyKSAqIG5mO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0Lm9ydGhvTk99XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG9ydGhvID0gb3J0aG9OTztcbi8qKlxuICogR2VuZXJhdGVzIGEgb3J0aG9nb25hbCBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbMCwgMV0sXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdQVS9WdWxrYW4vRGlyZWN0WC9NZXRhbCdzIGNsaXAgdm9sdW1lLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSByaWdodCBSaWdodCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBvcnRob1pPKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcbiAgdmFyIGxyID0gMSAvIChsZWZ0IC0gcmlnaHQpO1xuICB2YXIgYnQgPSAxIC8gKGJvdHRvbSAtIHRvcCk7XG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gIG91dFswXSA9IC0yICogbHI7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IC0yICogYnQ7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSBuZjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAobGVmdCArIHJpZ2h0KSAqIGxyO1xuICBvdXRbMTNdID0gKHRvcCArIGJvdHRvbSkgKiBidDtcbiAgb3V0WzE0XSA9IG5lYXIgKiBuZjtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIGxvb2stYXQgbWF0cml4IHdpdGggdGhlIGdpdmVuIGV5ZSBwb3NpdGlvbiwgZm9jYWwgcG9pbnQsIGFuZCB1cCBheGlzLlxuICogSWYgeW91IHdhbnQgYSBtYXRyaXggdGhhdCBhY3R1YWxseSBtYWtlcyBhbiBvYmplY3QgbG9vayBhdCBhbm90aGVyIG9iamVjdCwgeW91IHNob3VsZCB1c2UgdGFyZ2V0VG8gaW5zdGVhZC5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZXllIFBvc2l0aW9uIG9mIHRoZSB2aWV3ZXJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjZW50ZXIgUG9pbnQgdGhlIHZpZXdlciBpcyBsb29raW5nIGF0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdXAgdmVjMyBwb2ludGluZyB1cFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsb29rQXQob3V0LCBleWUsIGNlbnRlciwgdXApIHtcbiAgdmFyIHgwLCB4MSwgeDIsIHkwLCB5MSwgeTIsIHowLCB6MSwgejIsIGxlbjtcbiAgdmFyIGV5ZXggPSBleWVbMF07XG4gIHZhciBleWV5ID0gZXllWzFdO1xuICB2YXIgZXlleiA9IGV5ZVsyXTtcbiAgdmFyIHVweCA9IHVwWzBdO1xuICB2YXIgdXB5ID0gdXBbMV07XG4gIHZhciB1cHogPSB1cFsyXTtcbiAgdmFyIGNlbnRlcnggPSBjZW50ZXJbMF07XG4gIHZhciBjZW50ZXJ5ID0gY2VudGVyWzFdO1xuICB2YXIgY2VudGVyeiA9IGNlbnRlclsyXTtcblxuICBpZiAoTWF0aC5hYnMoZXlleCAtIGNlbnRlcngpIDwgZ2xNYXRyaXguRVBTSUxPTiAmJiBNYXRoLmFicyhleWV5IC0gY2VudGVyeSkgPCBnbE1hdHJpeC5FUFNJTE9OICYmIE1hdGguYWJzKGV5ZXogLSBjZW50ZXJ6KSA8IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICByZXR1cm4gaWRlbnRpdHkob3V0KTtcbiAgfVxuXG4gIHowID0gZXlleCAtIGNlbnRlcng7XG4gIHoxID0gZXlleSAtIGNlbnRlcnk7XG4gIHoyID0gZXlleiAtIGNlbnRlcno7XG4gIGxlbiA9IDEgLyBNYXRoLmh5cG90KHowLCB6MSwgejIpO1xuICB6MCAqPSBsZW47XG4gIHoxICo9IGxlbjtcbiAgejIgKj0gbGVuO1xuICB4MCA9IHVweSAqIHoyIC0gdXB6ICogejE7XG4gIHgxID0gdXB6ICogejAgLSB1cHggKiB6MjtcbiAgeDIgPSB1cHggKiB6MSAtIHVweSAqIHowO1xuICBsZW4gPSBNYXRoLmh5cG90KHgwLCB4MSwgeDIpO1xuXG4gIGlmICghbGVuKSB7XG4gICAgeDAgPSAwO1xuICAgIHgxID0gMDtcbiAgICB4MiA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbGVuID0gMSAvIGxlbjtcbiAgICB4MCAqPSBsZW47XG4gICAgeDEgKj0gbGVuO1xuICAgIHgyICo9IGxlbjtcbiAgfVxuXG4gIHkwID0gejEgKiB4MiAtIHoyICogeDE7XG4gIHkxID0gejIgKiB4MCAtIHowICogeDI7XG4gIHkyID0gejAgKiB4MSAtIHoxICogeDA7XG4gIGxlbiA9IE1hdGguaHlwb3QoeTAsIHkxLCB5Mik7XG5cbiAgaWYgKCFsZW4pIHtcbiAgICB5MCA9IDA7XG4gICAgeTEgPSAwO1xuICAgIHkyID0gMDtcbiAgfSBlbHNlIHtcbiAgICBsZW4gPSAxIC8gbGVuO1xuICAgIHkwICo9IGxlbjtcbiAgICB5MSAqPSBsZW47XG4gICAgeTIgKj0gbGVuO1xuICB9XG5cbiAgb3V0WzBdID0geDA7XG4gIG91dFsxXSA9IHkwO1xuICBvdXRbMl0gPSB6MDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geDE7XG4gIG91dFs1XSA9IHkxO1xuICBvdXRbNl0gPSB6MTtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0geDI7XG4gIG91dFs5XSA9IHkyO1xuICBvdXRbMTBdID0gejI7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gLSh4MCAqIGV5ZXggKyB4MSAqIGV5ZXkgKyB4MiAqIGV5ZXopO1xuICBvdXRbMTNdID0gLSh5MCAqIGV5ZXggKyB5MSAqIGV5ZXkgKyB5MiAqIGV5ZXopO1xuICBvdXRbMTRdID0gLSh6MCAqIGV5ZXggKyB6MSAqIGV5ZXkgKyB6MiAqIGV5ZXopO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgbWF0cml4IHRoYXQgbWFrZXMgc29tZXRoaW5nIGxvb2sgYXQgc29tZXRoaW5nIGVsc2UuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGV5ZSBQb3NpdGlvbiBvZiB0aGUgdmlld2VyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gY2VudGVyIFBvaW50IHRoZSB2aWV3ZXIgaXMgbG9va2luZyBhdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHVwIHZlYzMgcG9pbnRpbmcgdXBcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdGFyZ2V0VG8ob3V0LCBleWUsIHRhcmdldCwgdXApIHtcbiAgdmFyIGV5ZXggPSBleWVbMF0sXG4gICAgICBleWV5ID0gZXllWzFdLFxuICAgICAgZXlleiA9IGV5ZVsyXSxcbiAgICAgIHVweCA9IHVwWzBdLFxuICAgICAgdXB5ID0gdXBbMV0sXG4gICAgICB1cHogPSB1cFsyXTtcbiAgdmFyIHowID0gZXlleCAtIHRhcmdldFswXSxcbiAgICAgIHoxID0gZXlleSAtIHRhcmdldFsxXSxcbiAgICAgIHoyID0gZXlleiAtIHRhcmdldFsyXTtcbiAgdmFyIGxlbiA9IHowICogejAgKyB6MSAqIHoxICsgejIgKiB6MjtcblxuICBpZiAobGVuID4gMCkge1xuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcbiAgICB6MCAqPSBsZW47XG4gICAgejEgKj0gbGVuO1xuICAgIHoyICo9IGxlbjtcbiAgfVxuXG4gIHZhciB4MCA9IHVweSAqIHoyIC0gdXB6ICogejEsXG4gICAgICB4MSA9IHVweiAqIHowIC0gdXB4ICogejIsXG4gICAgICB4MiA9IHVweCAqIHoxIC0gdXB5ICogejA7XG4gIGxlbiA9IHgwICogeDAgKyB4MSAqIHgxICsgeDIgKiB4MjtcblxuICBpZiAobGVuID4gMCkge1xuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcbiAgICB4MCAqPSBsZW47XG4gICAgeDEgKj0gbGVuO1xuICAgIHgyICo9IGxlbjtcbiAgfVxuXG4gIG91dFswXSA9IHgwO1xuICBvdXRbMV0gPSB4MTtcbiAgb3V0WzJdID0geDI7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHoxICogeDIgLSB6MiAqIHgxO1xuICBvdXRbNV0gPSB6MiAqIHgwIC0gejAgKiB4MjtcbiAgb3V0WzZdID0gejAgKiB4MSAtIHoxICogeDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHowO1xuICBvdXRbOV0gPSB6MTtcbiAgb3V0WzEwXSA9IHoyO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IGV5ZXg7XG4gIG91dFsxM10gPSBleWV5O1xuICBvdXRbMTRdID0gZXllejtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgbWF0cml4IHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwibWF0NChcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIiwgXCIgKyBhWzRdICsgXCIsIFwiICsgYVs1XSArIFwiLCBcIiArIGFbNl0gKyBcIiwgXCIgKyBhWzddICsgXCIsIFwiICsgYVs4XSArIFwiLCBcIiArIGFbOV0gKyBcIiwgXCIgKyBhWzEwXSArIFwiLCBcIiArIGFbMTFdICsgXCIsIFwiICsgYVsxMl0gKyBcIiwgXCIgKyBhWzEzXSArIFwiLCBcIiArIGFbMTRdICsgXCIsIFwiICsgYVsxNV0gKyBcIilcIjtcbn1cbi8qKlxuICogUmV0dXJucyBGcm9iZW5pdXMgbm9ybSBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIGNhbGN1bGF0ZSBGcm9iZW5pdXMgbm9ybSBvZlxuICogQHJldHVybnMge051bWJlcn0gRnJvYmVuaXVzIG5vcm1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvYihhKSB7XG4gIHJldHVybiBNYXRoLmh5cG90KGFbMF0sIGFbMV0sIGFbMl0sIGFbM10sIGFbNF0sIGFbNV0sIGFbNl0sIGFbN10sIGFbOF0sIGFbOV0sIGFbMTBdLCBhWzExXSwgYVsxMl0sIGFbMTNdLCBhWzE0XSwgYVsxNV0pO1xufVxuLyoqXG4gKiBBZGRzIHR3byBtYXQ0J3NcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XTtcbiAgb3V0WzVdID0gYVs1XSArIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdO1xuICBvdXRbN10gPSBhWzddICsgYls3XTtcbiAgb3V0WzhdID0gYVs4XSArIGJbOF07XG4gIG91dFs5XSA9IGFbOV0gKyBiWzldO1xuICBvdXRbMTBdID0gYVsxMF0gKyBiWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdICsgYlsxMV07XG4gIG91dFsxMl0gPSBhWzEyXSArIGJbMTJdO1xuICBvdXRbMTNdID0gYVsxM10gKyBiWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdICsgYlsxNF07XG4gIG91dFsxNV0gPSBhWzE1XSArIGJbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTdWJ0cmFjdHMgbWF0cml4IGIgZnJvbSBtYXRyaXggYVxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xuICBvdXRbM10gPSBhWzNdIC0gYlszXTtcbiAgb3V0WzRdID0gYVs0XSAtIGJbNF07XG4gIG91dFs1XSA9IGFbNV0gLSBiWzVdO1xuICBvdXRbNl0gPSBhWzZdIC0gYls2XTtcbiAgb3V0WzddID0gYVs3XSAtIGJbN107XG4gIG91dFs4XSA9IGFbOF0gLSBiWzhdO1xuICBvdXRbOV0gPSBhWzldIC0gYls5XTtcbiAgb3V0WzEwXSA9IGFbMTBdIC0gYlsxMF07XG4gIG91dFsxMV0gPSBhWzExXSAtIGJbMTFdO1xuICBvdXRbMTJdID0gYVsxMl0gLSBiWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdIC0gYlsxM107XG4gIG91dFsxNF0gPSBhWzE0XSAtIGJbMTRdO1xuICBvdXRbMTVdID0gYVsxNV0gLSBiWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbHkgZWFjaCBlbGVtZW50IG9mIHRoZSBtYXRyaXggYnkgYSBzY2FsYXIuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgbWF0cml4J3MgZWxlbWVudHMgYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIG91dFszXSA9IGFbM10gKiBiO1xuICBvdXRbNF0gPSBhWzRdICogYjtcbiAgb3V0WzVdID0gYVs1XSAqIGI7XG4gIG91dFs2XSA9IGFbNl0gKiBiO1xuICBvdXRbN10gPSBhWzddICogYjtcbiAgb3V0WzhdID0gYVs4XSAqIGI7XG4gIG91dFs5XSA9IGFbOV0gKiBiO1xuICBvdXRbMTBdID0gYVsxMF0gKiBiO1xuICBvdXRbMTFdID0gYVsxMV0gKiBiO1xuICBvdXRbMTJdID0gYVsxMl0gKiBiO1xuICBvdXRbMTNdID0gYVsxM10gKiBiO1xuICBvdXRbMTRdID0gYVsxNF0gKiBiO1xuICBvdXRbMTVdID0gYVsxNV0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byBtYXQ0J3MgYWZ0ZXIgbXVsdGlwbHlpbmcgZWFjaCBlbGVtZW50IG9mIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYidzIGVsZW1lbnRzIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXJBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XSAqIHNjYWxlO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XSAqIHNjYWxlO1xuICBvdXRbNl0gPSBhWzZdICsgYls2XSAqIHNjYWxlO1xuICBvdXRbN10gPSBhWzddICsgYls3XSAqIHNjYWxlO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XSAqIHNjYWxlO1xuICBvdXRbOV0gPSBhWzldICsgYls5XSAqIHNjYWxlO1xuICBvdXRbMTBdID0gYVsxMF0gKyBiWzEwXSAqIHNjYWxlO1xuICBvdXRbMTFdID0gYVsxMV0gKyBiWzExXSAqIHNjYWxlO1xuICBvdXRbMTJdID0gYVsxMl0gKyBiWzEyXSAqIHNjYWxlO1xuICBvdXRbMTNdID0gYVsxM10gKyBiWzEzXSAqIHNjYWxlO1xuICBvdXRbMTRdID0gYVsxNF0gKyBiWzE0XSAqIHNjYWxlO1xuICBvdXRbMTVdID0gYVsxNV0gKyBiWzE1XSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIFRoZSBzZWNvbmQgbWF0cml4LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdICYmIGFbNF0gPT09IGJbNF0gJiYgYVs1XSA9PT0gYls1XSAmJiBhWzZdID09PSBiWzZdICYmIGFbN10gPT09IGJbN10gJiYgYVs4XSA9PT0gYls4XSAmJiBhWzldID09PSBiWzldICYmIGFbMTBdID09PSBiWzEwXSAmJiBhWzExXSA9PT0gYlsxMV0gJiYgYVsxMl0gPT09IGJbMTJdICYmIGFbMTNdID09PSBiWzEzXSAmJiBhWzE0XSA9PT0gYlsxNF0gJiYgYVsxNV0gPT09IGJbMTVdO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIFRoZSBzZWNvbmQgbWF0cml4LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdLFxuICAgICAgYTMgPSBhWzNdO1xuICB2YXIgYTQgPSBhWzRdLFxuICAgICAgYTUgPSBhWzVdLFxuICAgICAgYTYgPSBhWzZdLFxuICAgICAgYTcgPSBhWzddO1xuICB2YXIgYTggPSBhWzhdLFxuICAgICAgYTkgPSBhWzldLFxuICAgICAgYTEwID0gYVsxMF0sXG4gICAgICBhMTEgPSBhWzExXTtcbiAgdmFyIGExMiA9IGFbMTJdLFxuICAgICAgYTEzID0gYVsxM10sXG4gICAgICBhMTQgPSBhWzE0XSxcbiAgICAgIGExNSA9IGFbMTVdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdLFxuICAgICAgYjMgPSBiWzNdO1xuICB2YXIgYjQgPSBiWzRdLFxuICAgICAgYjUgPSBiWzVdLFxuICAgICAgYjYgPSBiWzZdLFxuICAgICAgYjcgPSBiWzddO1xuICB2YXIgYjggPSBiWzhdLFxuICAgICAgYjkgPSBiWzldLFxuICAgICAgYjEwID0gYlsxMF0sXG4gICAgICBiMTEgPSBiWzExXTtcbiAgdmFyIGIxMiA9IGJbMTJdLFxuICAgICAgYjEzID0gYlsxM10sXG4gICAgICBiMTQgPSBiWzE0XSxcbiAgICAgIGIxNSA9IGJbMTVdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpICYmIE1hdGguYWJzKGE0IC0gYjQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE0KSwgTWF0aC5hYnMoYjQpKSAmJiBNYXRoLmFicyhhNSAtIGI1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNSksIE1hdGguYWJzKGI1KSkgJiYgTWF0aC5hYnMoYTYgLSBiNikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTYpLCBNYXRoLmFicyhiNikpICYmIE1hdGguYWJzKGE3IC0gYjcpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE3KSwgTWF0aC5hYnMoYjcpKSAmJiBNYXRoLmFicyhhOCAtIGI4KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhOCksIE1hdGguYWJzKGI4KSkgJiYgTWF0aC5hYnMoYTkgLSBiOSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTkpLCBNYXRoLmFicyhiOSkpICYmIE1hdGguYWJzKGExMCAtIGIxMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEwKSwgTWF0aC5hYnMoYjEwKSkgJiYgTWF0aC5hYnMoYTExIC0gYjExKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTEpLCBNYXRoLmFicyhiMTEpKSAmJiBNYXRoLmFicyhhMTIgLSBiMTIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMiksIE1hdGguYWJzKGIxMikpICYmIE1hdGguYWJzKGExMyAtIGIxMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEzKSwgTWF0aC5hYnMoYjEzKSkgJiYgTWF0aC5hYnMoYTE0IC0gYjE0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTQpLCBNYXRoLmFicyhiMTQpKSAmJiBNYXRoLmFicyhhMTUgLSBiMTUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExNSksIE1hdGguYWJzKGIxNSkpO1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQubXVsdGlwbHl9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQuc3VidHJhY3R9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0OyIsImltcG9ydCBWZXJ0ZXhTaGFkZXJTb3VyY2UgZnJvbSBcIi4vc2hhZGVycy92ZXJ0ZXguZ2xzbFwiO1xuaW1wb3J0IEZyYWdtZW50U2hhZGVyU291cmNlIGZyb20gXCIuL3NoYWRlcnMvZnJhZ21lbnQuZ2xzbFwiO1xuaW1wb3J0IEFsdFZlcnRleFNoYWRlclNvdXJjZSBmcm9tIFwiLi9zaGFkZXJzL3Rlc3RWZXJ0Lmdsc2xcIjtcbmltcG9ydCBBbHRGcmFnbWVudFNoYWRlclNvdXJjZSBmcm9tIFwiLi9zaGFkZXJzL3Rlc3RGcmFnLmdsc2xcIjtcbmltcG9ydCB7IElNZXNzYWdlU3Vic2NyaWJlciB9IGZyb20gXCIuLi9tZXNzYWdlL0lNZXNzYWdlU3Vic2NyaWJlclwiO1xuaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gXCIuLi9tZXNzYWdlL21lc3NhZ2VcIjtcbmltcG9ydCB7IE1lc3NhZ2VCdXMgfSBmcm9tIFwiLi4vbWVzc2FnZS9tZXNzYWdlQnVzXCI7XG5pbXBvcnQgaW1wb3J0SW1hZ2UgZnJvbSBcIi4uL3dhbGwuanBnXCI7XG5pbXBvcnQgeyBnbE1hdHJpeCwgbWF0NCwgdmVjMyB9IGZyb20gXCJnbC1tYXRyaXhcIjtcbmltcG9ydCAqIGFzIE1lc3NhZ2VDb25zdGFudHMgZnJvbSBcIi4uL21lc3NhZ2UvbWVzc2FnZUNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQ29uc29sZSB9IGZyb20gXCJjb25zb2xlXCI7XG5cbmV4cG9ydCB2YXIgZ2w6IFdlYkdMMlJlbmRlcmluZ0NvbnRleHQ7XG52YXIgX2NhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG52YXIgX3Byb2dyYW0sIGFsdFByb2dyYW07XG52YXIgX3ZhbztcbnZhciBfdGV4dHVyZTtcbnZhciBfZWJvO1xudmFyIF9pbmRpY2VzO1xudmFyIG1vZGVsLCB2aWV3LCBwcm9qZWN0aW9uO1xuXG5jb25zdCBmb3ZQZXJQaXhlbD0uMSpNYXRoLlBJLzE4MDtcbnZhciBfZm92PTQ1O1xuXG52YXIgY2FtZXJhWWF3ID0gLTkwLFxuXHRjYW1lcmFQaXRjaCA9IDA7XG52YXIgY2FtZXJhUG9zLCBjYW1lcmFVcCwgY2FtZXJhUmlnaHQsIGNhbWVyYUZyb250O1xuXG52YXIgbW91c2VGaXJzdCA9IGZhbHNlO1xuXG52YXIgZGVsdGFUaW1lID0gMCxcblx0bGFzdEZyYW1lID0gMDtcblxudmFyIHcgPSBmYWxzZSxcblx0YSA9IGZhbHNlLFxuXHRzID0gZmFsc2UsXG5cdGQgPSBmYWxzZSxcblx0ZSA9IGZhbHNlLFxuXHRxID0gZmFsc2U7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbmRlcmVyIGltcGxlbWVudHMgSU1lc3NhZ2VTdWJzY3JpYmVyIHtcblx0bWVzc2FnZUJ1czogTWVzc2FnZUJ1cztcblxuXHRjb25zdHJ1Y3Rvcih0YXJnZXQ6IEhUTUxDYW52YXNFbGVtZW50KSB7XG5cdFx0dGhpcy5tZXNzYWdlQnVzID0gTWVzc2FnZUJ1cy5nZXRJbnN0YW5jZSgpO1xuXHRcdF9jYW52YXMgPSB0YXJnZXQ7XG5cblx0XHRpZiAoX2NhbnZhcyA9PSBudWxsKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDYW52YXMgaW5pdGlhbGl6YXRpb24gZmFpbGVkIVwiKTtcblx0XHR9XG5cblx0XHRnbCA9IF9jYW52YXMuZ2V0Q29udGV4dChcIndlYmdsMlwiKTtcblx0XHRpZiAoZ2wgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGluaXRpYXplIFdlYkdMXCIpO1xuXG5cdFx0Ly9Jbml0aWFsaXplIGlucHV0IG1lc3NhZ2Ugc3Vic2NyaXB0aW9uc1xuXHRcdHRoaXMubWVzc2FnZUJ1cy5hZGRTdWJzY3JpcHRpb24oTWVzc2FnZUNvbnN0YW50cy5pbnB1dEtleURvd24sIHRoaXMpO1xuXHRcdHRoaXMubWVzc2FnZUJ1cy5hZGRTdWJzY3JpcHRpb24oTWVzc2FnZUNvbnN0YW50cy5pbnB1dEtleVVwLCB0aGlzKTtcblx0XHR0aGlzLm1lc3NhZ2VCdXMuYWRkU3Vic2NyaXB0aW9uKE1lc3NhZ2VDb25zdGFudHMuaW5wdXRNb3VzZURvd24sIHRoaXMpO1xuXHRcdHRoaXMubWVzc2FnZUJ1cy5hZGRTdWJzY3JpcHRpb24oTWVzc2FnZUNvbnN0YW50cy5pbnB1dE1vdXNlVXAsIHRoaXMpO1xuXG5cdFx0dmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG5cdFx0aW1hZ2Uub25sb2FkID0gKGV2ZW50KSA9PiB7XG5cdFx0XHR0aGlzLmluaXQoaW1hZ2UpO1xuXHRcdFx0dGhpcy5tZXNzYWdlQnVzLnBvc3QobmV3IE1lc3NhZ2UoXCJyZW5kZXJlcl9zdGFydGVkXCIsIHRoaXMpKTtcblx0XHR9O1xuXHRcdGltYWdlLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKGVycm9yKTtcblx0XHR9O1xuXHRcdGltYWdlLnNyYyA9IGltcG9ydEltYWdlO1xuXHR9XG5cblx0cmVjZWl2ZU1lc3NhZ2UobWVzc2FnZTogTWVzc2FnZSk6IHZvaWQge1xuXHRcdGxldCBtID0gbWVzc2FnZS5pZGVudGlmaWVyO1xuXHRcdGxldCBwID0gbWVzc2FnZS5wYXlsb2FkO1xuXHRcdGlmIChtID09IE1lc3NhZ2VDb25zdGFudHMuaW5wdXRLZXlEb3duKSB7XG5cdFx0XHRzd2l0Y2ggKHApIHtcblx0XHRcdFx0Y2FzZSBcIndcIjpcblx0XHRcdFx0XHR3ID0gdHJ1ZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImFcIjpcblx0XHRcdFx0XHRhID0gdHJ1ZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcInNcIjpcblx0XHRcdFx0XHRzID0gdHJ1ZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImRcIjpcblx0XHRcdFx0XHRkID0gdHJ1ZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImVcIjpcblx0XHRcdFx0XHRlID0gdHJ1ZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcInFcIjpcblx0XHRcdFx0XHRxID0gdHJ1ZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKG0gPT0gTWVzc2FnZUNvbnN0YW50cy5pbnB1dEtleVVwKSB7XG5cdFx0XHRzd2l0Y2ggKHApIHtcblx0XHRcdFx0Y2FzZSBcIndcIjpcblx0XHRcdFx0XHR3ID0gZmFsc2U7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgXCJhXCI6XG5cdFx0XHRcdFx0YSA9IGZhbHNlO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwic1wiOlxuXHRcdFx0XHRcdHMgPSBmYWxzZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImRcIjpcblx0XHRcdFx0XHRkID0gZmFsc2U7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgXCJlXCI6XG5cdFx0XHRcdFx0ZSA9IGZhbHNlO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwicVwiOlxuXHRcdFx0XHRcdHEgPSBmYWxzZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAobSA9PSBNZXNzYWdlQ29uc3RhbnRzLmlucHV0TW91c2VEb3duKSB7XG5cdFx0XHR0aGlzLm1lc3NhZ2VCdXMuYWRkU3Vic2NyaXB0aW9uKE1lc3NhZ2VDb25zdGFudHMuaW5wdXRNb3VzZU1vdmUsIHRoaXMpO1xuXHRcdFx0Ly9tZXNzYWdlLnNlbmRlci5yZXF1ZXN0UG9pbnRlckxvY2soKTtcblx0XHRcdG1vdXNlRmlyc3QgPSB0cnVlO1xuXHRcdFx0cHJvY2Vzc01vdXNlKHApO1xuXHRcdH0gZWxzZSBpZiAobSA9PSBNZXNzYWdlQ29uc3RhbnRzLmlucHV0TW91c2VVcCkge1xuXHRcdFx0dGhpcy5tZXNzYWdlQnVzLnJlbW92ZVN1YnNjcmlwdGlvbihNZXNzYWdlQ29uc3RhbnRzLmlucHV0TW91c2VNb3ZlLCB0aGlzKTtcblx0XHRcdC8vbWVzc2FnZS5zZW5kZXIuZXhpdFBvaW50ZXJMb2NrKCk7XG5cdFx0fVxuXG5cdFx0aWYgKG0gPT0gTWVzc2FnZUNvbnN0YW50cy5pbnB1dE1vdXNlTW92ZSkge1xuXHRcdFx0cHJvY2Vzc01vdXNlKHApO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBnZXQgZ2V0UmVuZGVyZXIoKTogUmVuZGVyZXIge1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0aW5pdChpbWFnZSkge1xuXHRcdHZhciB2ZXJ0ID0gUmVuZGVyZXIuY3JlYXRlU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCBWZXJ0ZXhTaGFkZXJTb3VyY2UpO1xuXHRcdHZhciBmcmFnID0gUmVuZGVyZXIuY3JlYXRlU2hhZGVyKFxuXHRcdFx0Z2wsXG5cdFx0XHRnbC5GUkFHTUVOVF9TSEFERVIsXG5cdFx0XHRGcmFnbWVudFNoYWRlclNvdXJjZVxuXHRcdCk7XG5cblx0XHR2YXIgYWx0VmVydCA9IFJlbmRlcmVyLmNyZWF0ZVNoYWRlcihcblx0XHRcdGdsLFxuXHRcdFx0Z2wuVkVSVEVYX1NIQURFUixcblx0XHRcdEFsdFZlcnRleFNoYWRlclNvdXJjZVxuXHRcdCk7XG5cdFx0dmFyIGFsdEZyYWcgPSBSZW5kZXJlci5jcmVhdGVTaGFkZXIoXG5cdFx0XHRnbCxcblx0XHRcdGdsLkZSQUdNRU5UX1NIQURFUixcblx0XHRcdEFsdEZyYWdtZW50U2hhZGVyU291cmNlXG5cdFx0KTtcblxuXHRcdGFsdFByb2dyYW0gPSBSZW5kZXJlci5jcmVhdGVQcm9ncmFtKGdsLCBhbHRWZXJ0LCBhbHRGcmFnKTtcblxuXHRcdF9wcm9ncmFtID0gUmVuZGVyZXIuY3JlYXRlUHJvZ3JhbShnbCwgdmVydCwgZnJhZyk7XG5cblx0XHQvL1RlbGwgV2ViR0wgdG8gdXNlIG91ciBwcm9ncmFtXG5cdFx0Z2wudXNlUHJvZ3JhbShfcHJvZ3JhbSk7XG5cblx0XHRpZiAoX3Byb2dyYW0gPT0gbnVsbCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiUHJvZ3JhbSBjcmVhdGlvbiBmYWlsZWQhXCIpO1xuXHRcdH1cblxuXHRcdC8vTWF5YmUgbm90IGRlbGV0ZT9cblxuXHRcdC8qIFxuXHRcdGdsLmRlbGV0ZVNoYWRlcih2ZXJ0KTtcblx0XHRnbC5kZWxldGVTaGFkZXIoZnJhZyk7XG4gKi9cblx0XHQvL1Jlc2l6ZSB0aGUgR0wgQ2FudmFzIHRvIHRoZSBzaXplIGRldGVybWluZWQgYnkgQ1NTXG5cdFx0UmVuZGVyZXIucmVzaXplQ2FudmFzVG9EaXNwbGF5U2l6ZShfY2FudmFzKTtcblxuXHRcdC8vQ2FtZXJhXG5cdFx0Y2FtZXJhUG9zID0gdmVjMy5mcm9tVmFsdWVzKDAsIDAsIDMpO1xuXHRcdGNhbWVyYUZyb250ID0gdmVjMy5mcm9tVmFsdWVzKDAsIDAsIC0xKTtcblx0XHRjYW1lcmFVcCA9IHZlYzMuZnJvbVZhbHVlcygwLCAxLCAwKTtcblx0XHRjYW1lcmFSaWdodCA9IHZlYzMuY3JlYXRlO1xuXG5cdFx0Ly9wb3M6eCx5LHo7IGNvbG91cjpyLGcsYjsgdGV4dHVyZTpzLHRcblx0XHR2YXIgdmVydGljZXMgPSBbXG5cdFx0XHQtMC41LCAtMC41LCAtMC41LCAwLjAsIDAuMCwgMC41LCAtMC41LCAtMC41LCAxLjAsIDAuMCwgMC41LCAwLjUsIC0wLjUsXG5cdFx0XHQxLjAsIDEuMCwgMC41LCAwLjUsIC0wLjUsIDEuMCwgMS4wLCAtMC41LCAwLjUsIC0wLjUsIDAuMCwgMS4wLCAtMC41LCAtMC41LFxuXHRcdFx0LTAuNSwgMC4wLCAwLjAsIC0wLjUsIC0wLjUsIDAuNSwgMC4wLCAwLjAsIDAuNSwgLTAuNSwgMC41LCAxLjAsIDAuMCwgMC41LFxuXHRcdFx0MC41LCAwLjUsIDEuMCwgMS4wLCAwLjUsIDAuNSwgMC41LCAxLjAsIDEuMCwgLTAuNSwgMC41LCAwLjUsIDAuMCwgMS4wLFxuXHRcdFx0LTAuNSwgLTAuNSwgMC41LCAwLjAsIDAuMCwgLTAuNSwgMC41LCAwLjUsIDEuMCwgMC4wLCAtMC41LCAwLjUsIC0wLjUsIDEuMCxcblx0XHRcdDEuMCwgLTAuNSwgLTAuNSwgLTAuNSwgMC4wLCAxLjAsIC0wLjUsIC0wLjUsIC0wLjUsIDAuMCwgMS4wLCAtMC41LCAtMC41LFxuXHRcdFx0MC41LCAwLjAsIDAuMCwgLTAuNSwgMC41LCAwLjUsIDEuMCwgMC4wLCAwLjUsIDAuNSwgMC41LCAxLjAsIDAuMCwgMC41LFxuXHRcdFx0MC41LCAtMC41LCAxLjAsIDEuMCwgMC41LCAtMC41LCAtMC41LCAwLjAsIDEuMCwgMC41LCAtMC41LCAtMC41LCAwLjAsIDEuMCxcblx0XHRcdDAuNSwgLTAuNSwgMC41LCAwLjAsIDAuMCwgMC41LCAwLjUsIDAuNSwgMS4wLCAwLjAsIC0wLjUsIC0wLjUsIC0wLjUsIDAuMCxcblx0XHRcdDEuMCwgMC41LCAtMC41LCAtMC41LCAxLjAsIDEuMCwgMC41LCAtMC41LCAwLjUsIDEuMCwgMC4wLCAwLjUsIC0wLjUsIDAuNSxcblx0XHRcdDEuMCwgMC4wLCAtMC41LCAtMC41LCAwLjUsIDAuMCwgMC4wLCAtMC41LCAtMC41LCAtMC41LCAwLjAsIDEuMCwgLTAuNSxcblx0XHRcdDAuNSwgLTAuNSwgMC4wLCAxLjAsIDAuNSwgMC41LCAtMC41LCAxLjAsIDEuMCwgMC41LCAwLjUsIDAuNSwgMS4wLCAwLjAsXG5cdFx0XHQwLjUsIDAuNSwgMC41LCAxLjAsIDAuMCwgLTAuNSwgMC41LCAwLjUsIDAuMCwgMC4wLCAtMC41LCAwLjUsIC0wLjUsIDAuMCxcblx0XHRcdDEuMFxuXHRcdF07XG5cdFx0X2luZGljZXMgPSBuZXcgVWludDE2QXJyYXkoWzAsIDEsIDMsIDEsIDIsIDNdKTtcblxuXHRcdG1vZGVsID0gbWF0NC5jcmVhdGUoKTtcblx0XHRtb2RlbCA9IG1hdDQucm90YXRlKFxuXHRcdFx0bW9kZWwsXG5cdFx0XHRtb2RlbCxcblx0XHRcdGdsTWF0cml4LnRvUmFkaWFuKC01NSksXG5cdFx0XHR2ZWMzLmZyb21WYWx1ZXMoMSwgMCwgMClcblx0XHQpO1xuXG5cdFx0dmlldyA9IG1hdDQuY3JlYXRlKCk7XG5cdFx0dmlldyA9IG1hdDQubG9va0F0KFxuXHRcdFx0dmlldyxcblx0XHRcdHZlYzMuZnJvbVZhbHVlcygwLCAwLCAzKSxcblx0XHRcdHZlYzMuZnJvbVZhbHVlcygwLCAwLCAwKSxcblx0XHRcdHZlYzMuZnJvbVZhbHVlcygwLCAxLCAwKVxuXHRcdCk7XG5cblx0XHRcblx0XHRfZm92PWdsLmNhbnZhcy5jbGllbnRIZWlnaHQqZm92UGVyUGl4ZWw7IC8vIGJlZm9yZTogZ2xNYXRyaXgudG9SYWRpYW4oOTApO1xuXG5cdFx0cHJvamVjdGlvbiA9IG1hdDQuY3JlYXRlKCk7XG5cdFx0cHJvamVjdGlvbiA9IG1hdDQucGVyc3BlY3RpdmUoXG5cdFx0XHRwcm9qZWN0aW9uLFxuXHRcdFx0X2Zvdixcblx0XHRcdF9jYW52YXMuY2xpZW50V2lkdGggL19jYW52YXMuY2xpZW50SGVpZ2h0ICxcblx0XHRcdDAuMSxcblx0XHRcdDEwMFxuXHRcdCk7XG5cblx0XHQvL0JpbmQgdmVydGV4IGFycmF5IG9iamVjdCwgY29udGFpbnMgdmVydGV4IGJ1ZmZlciBvYmplY3RzXG5cdFx0X3ZhbyA9IGdsLmNyZWF0ZVZlcnRleEFycmF5KCk7XG5cdFx0Z2wuYmluZFZlcnRleEFycmF5KF92YW8pO1xuXG5cdFx0Ly9Db3B5IHZlcnRpY2VzIGZyb20gYXJyYXkgdG8gdmVydGV4IGJ1ZmZlciBvYmplY3QgdmJvXG5cdFx0dmFyIHZibyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuXHRcdGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB2Ym8pO1xuXHRcdGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KHZlcnRpY2VzKSwgZ2wuU1RBVElDX0RSQVcpO1xuXG5cdFx0Ly9Db3B5IGluZGljZXMgZnJvbSBhcnJheSB0byBlbGVtZW50IGJ1ZmZlciBvYmplY3QgZWJvXG5cdFx0X2VibyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuXHRcdGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIF9lYm8pO1xuXHRcdGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIF9pbmRpY2VzLCBnbC5TVEFUSUNfRFJBVyk7XG5cblx0XHRjb25zb2xlLmxvZyhnbC5nZXRCdWZmZXJQYXJhbWV0ZXIoZ2wuQVJSQVlfQlVGRkVSLCBnbC5CVUZGRVJfU0laRSkpO1xuXHRcdGNvbnNvbGUubG9nKGdsLmdldEJ1ZmZlclBhcmFtZXRlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgZ2wuQlVGRkVSX1NJWkUpKTtcblxuXHRcdC8vcG9zaXRpb24gYXR0cmlidXRlXG5cdFx0Z2wudmVydGV4QXR0cmliUG9pbnRlcigwLCAzLCBnbC5GTE9BVCwgZmFsc2UsIDUgKiA0LCAwKTtcblx0XHRnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSgwKTtcblxuXHRcdC8vdGV4dHVyZSBjb29yZGluYXRlIGF0dHJpYnV0ZVxuXHRcdGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoMSwgMiwgZ2wuRkxPQVQsIGZhbHNlLCA1ICogNCwgMyAqIDQpO1xuXHRcdGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KDEpO1xuXG5cdFx0Ly9UZXh0dXJlIGNvb3JkaW5hdGUgYnVmZmVyIGhhbmRsaW5nXG5cdFx0X3RleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG5cdFx0Z2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgX3RleHR1cmUpO1xuXG5cdFx0Ly9UZXh0dXJlIHJlbmRlciBwYXJhbWV0ZXJzXG5cdFx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuUkVQRUFUKTtcblx0XHRnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5SRVBFQVQpO1xuXHRcdGdsLnRleFBhcmFtZXRlcmkoXG5cdFx0XHRnbC5URVhUVVJFXzJELFxuXHRcdFx0Z2wuVEVYVFVSRV9NSU5fRklMVEVSLFxuXHRcdFx0Z2wuTElORUFSX01JUE1BUF9MSU5FQVJcblx0XHQpO1xuXHRcdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xuXG5cdFx0bGV0IHRhcmdldCA9IGdsLlRFWFRVUkVfMkQ7XG5cdFx0bGV0IG1pcE1hcExldmVsID0gMDtcblx0XHRsZXQgaW50ZXJuYWxGb3JtYXQgPSBnbC5SR0JBO1xuXHRcdGxldCBmb3JtYXQgPSBnbC5SR0JBO1xuXHRcdGxldCB0eXBlID0gZ2wuVU5TSUdORURfQllURTtcblxuXHRcdGdsLnRleEltYWdlMkQodGFyZ2V0LCBtaXBNYXBMZXZlbCwgaW50ZXJuYWxGb3JtYXQsIGZvcm1hdCwgdHlwZSwgaW1hZ2UpO1xuXHRcdGdsLmdlbmVyYXRlTWlwbWFwKGdsLlRFWFRVUkVfMkQpO1xuXG5cdFx0Z2wuZW5hYmxlKGdsLkRFUFRIX1RFU1QpO1xuXG5cdFx0dGhpcy5yZW5kZXIoKTtcblx0fVxuXG5cdHB1YmxpYyByZW5kZXIoKTogdm9pZCB7XG5cdFx0Ly9TZXQgYWNjdXJhdGUgdGltZVxuXHRcdHZhciBjdXJyZW50RnJhbWUgPSBEYXRlLm5vdygpO1xuXHRcdGRlbHRhVGltZSA9IGN1cnJlbnRGcmFtZSAtIGxhc3RGcmFtZTtcblx0XHRsYXN0RnJhbWUgPSBjdXJyZW50RnJhbWU7XG5cblx0XHQvL1Byb2Nlc3MgaW5wdXRcblx0XHR0aGlzLnByb2Nlc3NJbnB1dCgpO1xuXG5cdFx0Ly9SZXNpemUgdGhlIEdMIENhbnZhcyB0byB0aGUgc2l6ZSBkZXRlcm1pbmVkIGJ5IENTU1xuXHRcdGlmKFJlbmRlcmVyLnJlc2l6ZUNhbnZhc1RvRGlzcGxheVNpemUoX2NhbnZhcykpe1xuXHRcdFx0cHJvamVjdGlvbiA9IG1hdDQucGVyc3BlY3RpdmUoXG5cdFx0XHRcdHByb2plY3Rpb24sXG5cdFx0XHRcdF9mb3YsXG5cdFx0XHRcdF9jYW52YXMuY2xpZW50V2lkdGggL19jYW52YXMuY2xpZW50SGVpZ2h0ICxcblx0XHRcdFx0MC4xLFxuXHRcdFx0XHQxMDBcblx0XHRcdCk7XG5cdFx0fVxuXHRcdC8vVGVsbCBXZWJHTCBob3cgdG8gY29udmVydCBmcm9tIGNsaXAgc3BhY2UgdG8gcGl4ZWxzIVxuXHRcdGdsLnZpZXdwb3J0KDAsIDAsIGdsLmNhbnZhcy53aWR0aCwgZ2wuY2FudmFzLmhlaWdodCk7XG5cblx0XHQvL1NjcnViIHRoZSBjYW52YXNcblx0XHRnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUIHwgZ2wuREVQVEhfQlVGRkVSX0JJVCk7XG5cdFx0Z2wuY2xlYXJDb2xvcigwLCAwLCAwLCAxKTtcblxuXHRcdC8vVGVsbCBpdCB0byB1c2UgdGhlIHByb2dyYW1cblx0XHRnbC51c2VQcm9ncmFtKF9wcm9ncmFtKTtcblxuXHRcdGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIF90ZXh0dXJlKTtcblx0XHRnbC5iaW5kVmVydGV4QXJyYXkoX3Zhbyk7XG5cblx0XHRtb2RlbCA9IG1hdDQucm90YXRlKFxuXHRcdFx0bW9kZWwsXG5cdFx0XHRtb2RlbCxcblx0XHRcdGdsTWF0cml4LnRvUmFkaWFuKC0xIC8gMiksXG5cdFx0XHR2ZWMzLmZyb21WYWx1ZXMoMSwgMSwgMC41KVxuXHRcdCk7XG5cblx0XHQvL0NhbWVyYS92aWV3IG1hdHJpeCB0cmFuc2Zvcm1cblx0XHQvL2NhbWVyYVBvcz12ZWMzLmFkZChjYW1lcmFQb3MsY2FtZXJhUG9zLHZlYzMuZnJvbVZhbHVlcygxLDEsMSkpO1xuXHRcdHZhciBjYW1lcmFDZW50ZXIgPSB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgMCk7XG5cdFx0dmVjMy5hZGQoY2FtZXJhQ2VudGVyLCBjYW1lcmFQb3MsIGNhbWVyYUZyb250KTtcblx0XHRtYXQ0Lmxvb2tBdCh2aWV3LCBjYW1lcmFQb3MsIGNhbWVyYUNlbnRlciwgY2FtZXJhVXApO1xuXG5cdFx0bGV0IG1Mb2MgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oX3Byb2dyYW0sIFwibW9kZWxcIik7XG5cdFx0bGV0IHZMb2MgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oX3Byb2dyYW0sIFwidmlld1wiKTtcblx0XHRsZXQgcExvYyA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihfcHJvZ3JhbSwgXCJwcm9qZWN0aW9uXCIpO1xuXG5cdFx0Z2wudW5pZm9ybU1hdHJpeDRmdihtTG9jLCBmYWxzZSwgbW9kZWwpO1xuXHRcdGdsLnVuaWZvcm1NYXRyaXg0ZnYodkxvYywgZmFsc2UsIHZpZXcpO1xuXHRcdGdsLnVuaWZvcm1NYXRyaXg0ZnYocExvYywgZmFsc2UsIHByb2plY3Rpb24pO1xuXG5cdFx0dmFyIHByaW1pdGl2ZVR5cGUgPSBnbC5UUklBTkdMRVM7XG5cdFx0dmFyIG9mZnNldCA9IDA7XG5cdFx0dmFyIGNvdW50ID0gNjtcblx0XHQvKmNvbXBvbmVudFR5cGUgICAgICAgICBTaXplIGluIGJ5dGVzXG5cdFx0XHQ1MTIwIChCWVRFKSAgICAgICAgICAgMVxuXHRcdFx0NTEyMSAoVU5TSUdORURfQllURSkgIDFcblx0XHRcdDUxMjIgKFNIT1JUKSAgICAgICAgICAyXG5cdFx0XHQ1MTIzIChVTlNJR05FRF9TSE9SVCkgMlxuXHRcdFx0NTEyNSAoVU5TSUdORURfSU5UKSAgIDRcblx0XHRcdDUxMjYgKEZMT0FUKSAgICAgICAgICA0Ki9cblx0XHQvL2lmIGxlc3MgdGhhbiAyNTYgaW5kaWNlcywgdXNlIFVOU0lHTkVEX1NIT1JUISBTZWUgdGFibGUgYWJvdmVcblx0XHR2YXIgaW5kZXhUeXBlID0gZ2wuVU5TSUdORURfU0hPUlQ7XG5cblx0XHQvL2dsLmRyYXdFbGVtZW50cyhwcmltaXRpdmVUeXBlLCBjb3VudCwgaW5kZXhUeXBlLCBvZmZzZXQpO1xuXHRcdGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVTLCAwLCAzNik7XG5cdH1cblxuXHQvLyNyZWdpb24gSGVscGVyIGZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdC8qKlxuXHQgKiBDb21waWxlcyBhIHNoYWRlciBhbmQgcmV0dXJucyBpdC4gSWYgY29tcGlsYXRpb24gZmFpbHMsIGxvZyB0aGUgc2hhZGVyIGNvZGUgYW5kIGRlbGV0ZSB0aGUgc2hhZGVyIGZyb20gdGhlIGNvbnRleHQuXG5cdCAqIEBwYXJhbSBnbCBXZWJHTCBDb250ZXh0XG5cdCAqIEBwYXJhbSB0eXBlIFNoYWRlciBUeXBlXG5cdCAqIEBwYXJhbSBzb3VyY2UgU2hhZGVyIHNvdXJjZSBjb2RlXG5cdCAqL1xuXHRzdGF0aWMgY3JlYXRlU2hhZGVyKFxuXHRcdGdsOiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0LFxuXHRcdHR5cGU6IG51bWJlcixcblx0XHRzb3VyY2U6IHN0cmluZ1xuXHQpIHtcblx0XHR2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xuXHRcdGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNvdXJjZSk7XG5cdFx0Z2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuXHRcdHZhciBzdWNjZXNzID0gZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpO1xuXHRcdGlmIChzdWNjZXNzKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xuXHRcdFx0cmV0dXJuIHNoYWRlcjtcblx0XHR9XG5cblx0XHRjb25zb2xlLmxvZyhnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xuXHRcdGdsLmRlbGV0ZVNoYWRlcihzaGFkZXIpO1xuXHR9XG5cblx0LyoqXG5cdCAqIExpbmtzIHRoZSBjb21waWxlZCBzaGFkZXJzIHdpdGggdGhlIEdMIGNvbnRleHQgYW5kIGNyZWF0ZXMgYSBwcm9ncmFtIG9uIHRoZSBHUFUuXG5cdCAqIEBwYXJhbSBnbCBXZWJHTCBDb250ZXh0XG5cdCAqIEBwYXJhbSB2ZXJ0ZXhTaGFkZXIgVmVydGV4IHNoYWRlclxuXHQgKiBAcGFyYW0gZnJhZ21lbnRTaGFkZXIgRnJhZ21lbnQgc2hhZGVyXG5cdCAqL1xuXHRzdGF0aWMgY3JlYXRlUHJvZ3JhbShcblx0XHRnbDogV2ViR0wyUmVuZGVyaW5nQ29udGV4dCxcblx0XHR2ZXJ0ZXhTaGFkZXI6IFdlYkdMU2hhZGVyLFxuXHRcdGZyYWdtZW50U2hhZGVyOiBXZWJHTFNoYWRlclxuXHQpIHtcblx0XHR2YXIgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcblx0XHRnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcblx0XHRnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xuXHRcdGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xuXHRcdHZhciBzdWNjZXNzID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUyk7XG5cdFx0aWYgKHN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiBwcm9ncmFtO1xuXHRcdH1cblxuXHRcdGNvbnNvbGUubG9nKGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pKTtcblx0XHRnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlc2l6ZXMgZGlzcGxheSB0byBIVE1MIGNhbnZhcyBzaXplIHNldCBieSBDU1Ncblx0ICogQHBhcmFtIGNhbnZhcyBDYW52YXMgSFRNTCBlbGVtZW50XG5cdCAqL1xuXHRzdGF0aWMgcmVzaXplQ2FudmFzVG9EaXNwbGF5U2l6ZShjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XG5cdFx0Ly8gTG9va3VwIHRoZSBzaXplIHRoZSBicm93c2VyIGlzIGRpc3BsYXlpbmcgdGhlIGNhbnZhcyBpbiBDU1MgcGl4ZWxzLlxuXHRcdGNvbnN0IGRpc3BsYXlXaWR0aCA9IGNhbnZhcy5jbGllbnRXaWR0aDtcblx0XHRjb25zdCBkaXNwbGF5SGVpZ2h0ID0gY2FudmFzLmNsaWVudEhlaWdodDtcblxuXHRcdC8vY29uc3QgZHByID13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcblxuXHRcdC8vIENoZWNrIGlmIHRoZSBjYW52YXMgaXMgbm90IHRoZSBzYW1lIHNpemUuXG5cdFx0Y29uc3QgbmVlZFJlc2l6ZSA9XG5cdFx0XHRjYW52YXMud2lkdGggIT09IGRpc3BsYXlXaWR0aCB8fCBjYW52YXMuaGVpZ2h0ICE9PSBkaXNwbGF5SGVpZ2h0O1xuXG5cdFx0aWYgKG5lZWRSZXNpemUpIHtcblx0XHRcdC8vIE1ha2UgdGhlIGNhbnZhcyB0aGUgc2FtZSBzaXplXG5cdFx0XHRjYW52YXMud2lkdGggPSBkaXNwbGF5V2lkdGg7XG5cdFx0XHRjYW52YXMuaGVpZ2h0ID0gZGlzcGxheUhlaWdodDtcblx0XHR9XG5cblx0XHRyZXR1cm4gbmVlZFJlc2l6ZTtcblx0fVxuXG5cdHByb2Nlc3NJbnB1dCgpIHtcblx0XHRsZXQgY2FtZXJhU3BlZWQgPSAwLjAwNSAqIGRlbHRhVGltZTtcblx0XHRpZiAodykge1xuXHRcdFx0dmVjMy5zY2FsZUFuZEFkZChjYW1lcmFQb3MsIGNhbWVyYVBvcywgY2FtZXJhRnJvbnQsIGNhbWVyYVNwZWVkKTtcblx0XHR9XG5cdFx0aWYgKGEpIHtcblx0XHRcdHZlYzMuY3Jvc3MoY2FtZXJhUmlnaHQsIGNhbWVyYUZyb250LCBjYW1lcmFVcCk7XG5cdFx0XHR2ZWMzLnNjYWxlQW5kQWRkKGNhbWVyYVBvcywgY2FtZXJhUG9zLCBjYW1lcmFSaWdodCwgLWNhbWVyYVNwZWVkKTtcblx0XHR9XG5cdFx0aWYgKHMpIHtcblx0XHRcdHZlYzMuc2NhbGVBbmRBZGQoY2FtZXJhUG9zLCBjYW1lcmFQb3MsIGNhbWVyYUZyb250LCAtY2FtZXJhU3BlZWQpO1xuXHRcdH1cblx0XHRpZiAoZCkge1xuXHRcdFx0dmVjMy5jcm9zcyhjYW1lcmFSaWdodCwgY2FtZXJhRnJvbnQsIGNhbWVyYVVwKTtcblx0XHRcdHZlYzMuc2NhbGVBbmRBZGQoY2FtZXJhUG9zLCBjYW1lcmFQb3MsIGNhbWVyYVJpZ2h0LCBjYW1lcmFTcGVlZCk7XG5cdFx0fVxuXHRcdGlmIChlKSB7XG5cdFx0XHR2ZWMzLmNyb3NzKGNhbWVyYVJpZ2h0LCBjYW1lcmFGcm9udCwgY2FtZXJhVXApO1xuXHRcdFx0dmVjMy5zY2FsZUFuZEFkZChjYW1lcmFQb3MsIGNhbWVyYVBvcywgY2FtZXJhVXAsIGNhbWVyYVNwZWVkKTtcblx0XHR9XG5cdFx0aWYgKHEpIHtcblx0XHRcdHZlYzMuY3Jvc3MoY2FtZXJhUmlnaHQsIGNhbWVyYUZyb250LCBjYW1lcmFVcCk7XG5cdFx0XHR2ZWMzLnNjYWxlQW5kQWRkKGNhbWVyYVBvcywgY2FtZXJhUG9zLCBjYW1lcmFVcCwgLWNhbWVyYVNwZWVkKTtcblx0XHR9XG5cdH1cblx0Ly8jZW5kcmVnaW9uXG59XG5cbnZhciB4UG9zLCB5UG9zO1xuZnVuY3Rpb24gcHJvY2Vzc01vdXNlKHBvc2l0aW9uOiBBcnJheTxudW1iZXI+KSB7XG5cdGlmIChtb3VzZUZpcnN0KSB7XG5cdFx0eFBvcyA9IHBvc2l0aW9uWzBdO1xuXHRcdHlQb3MgPSBwb3NpdGlvblsxXTtcblx0XHRtb3VzZUZpcnN0ID0gZmFsc2U7XG5cdH1cblxuXHRsZXQgeE9mZnNldCA9IHBvc2l0aW9uWzBdIC0geFBvcztcblx0bGV0IHlPZmZzZXQgPSB5UG9zIC0gcG9zaXRpb25bMV07XG5cdHhQb3MgPSBwb3NpdGlvblswXTtcblx0eVBvcyA9IHBvc2l0aW9uWzFdO1xuXG5cdGxldCBtb3VzZVNlbnNpdGl2aXR5ID0gMC4xO1xuXHR4T2Zmc2V0ICo9IG1vdXNlU2Vuc2l0aXZpdHk7XG5cdHlPZmZzZXQgKj0gbW91c2VTZW5zaXRpdml0eTtcblxuXHRjYW1lcmFZYXcgKz0geE9mZnNldDtcblx0Y2FtZXJhUGl0Y2ggKz0geU9mZnNldDtcblxuXHRjYW1lcmFQaXRjaCA9IGNhbWVyYVBpdGNoID4gODkuMCA/IDg5LjAgOiBjYW1lcmFQaXRjaDtcblx0Y2FtZXJhUGl0Y2ggPSBjYW1lcmFQaXRjaCA8IC04OS4wID8gLTg5LjAgOiBjYW1lcmFQaXRjaDtcblx0bGV0IHBpdGNoUmFkaWFuID0gZ2xNYXRyaXgudG9SYWRpYW4oY2FtZXJhUGl0Y2gpO1xuXHRsZXQgeWF3UmFkaWFuID0gZ2xNYXRyaXgudG9SYWRpYW4oY2FtZXJhWWF3KTtcblx0bGV0IGZyb250ID0gdmVjMy5mcm9tVmFsdWVzKFxuXHRcdE1hdGguY29zKHlhd1JhZGlhbikgKiBNYXRoLmNvcyhwaXRjaFJhZGlhbiksXG5cdFx0TWF0aC5zaW4ocGl0Y2hSYWRpYW4pLFxuXHRcdE1hdGguc2luKHlhd1JhZGlhbikgKiBNYXRoLmNvcyhwaXRjaFJhZGlhbilcblx0KTtcblxuXHR2ZWMzLm5vcm1hbGl6ZShjYW1lcmFGcm9udCwgZnJvbnQpO1xufVxuIiwiZXhwb3J0IGNvbnN0IGlucHV0S2V5RG93bj1cIklOUFVUX0tFWV9ET1dOXCI7XG5leHBvcnQgY29uc3QgaW5wdXRLZXlVcD1cIklOUFVUX0tFWV9VUFwiO1xuZXhwb3J0IGNvbnN0IGlucHV0TW91c2VEb3duPVwiSU5QVVRfTU9VU0VfRE9XTlwiO1xuZXhwb3J0IGNvbnN0IGlucHV0TW91c2VVcD1cIklOUFVUX01PVVNFX1VQXCI7XG5leHBvcnQgY29uc3QgaW5wdXRNb3VzZU1vdmU9XCJJTlBVVF9NT1VTRV9NT1ZFXCI7XG4iLCJleHBvcnQgZGVmYXVsdCBcIiN2ZXJzaW9uIDMwMCBlc1xcblxcbi8vIGFuIGF0dHJpYnV0ZSBpcyBhbiBpbnB1dCAoaW4pIHRvIGEgdmVydGV4IHNoYWRlci5cXG4vLyBJdCB3aWxsIHJlY2VpdmUgZGF0YSBmcm9tIGEgYnVmZmVyXFxubGF5b3V0KGxvY2F0aW9uPTApaW4gdmVjMyBhX3Bvc2l0aW9uO1xcbmxheW91dChsb2NhdGlvbj0xKWluIHZlYzIgYV90ZXhDb29yZDtcXG5cXG5vdXQgdmVjMiB0ZXhDb29yZDtcXG5cXG51bmlmb3JtIG1hdDQgbW9kZWw7XFxudW5pZm9ybSBtYXQ0IHZpZXc7XFxudW5pZm9ybSBtYXQ0IHByb2plY3Rpb247XFxuXFxudm9pZCBtYWluKCl7XFxuICBcXG4gIGdsX1Bvc2l0aW9uPXByb2plY3Rpb24qdmlldyptb2RlbCp2ZWM0KGFfcG9zaXRpb24sMS4pO1xcbiAgdGV4Q29vcmQ9YV90ZXhDb29yZDtcXG59XFxuXCI7IiwiZXhwb3J0IGRlZmF1bHQgXCIjdmVyc2lvbiAzMDAgZXNcXG4gXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcblxcbm91dCB2ZWM0IEZyYWdDb2xvcjtcXG5cXG5pbiB2ZWMyIHRleENvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZTtcXG5cXG5cXG52b2lkIG1haW4oKSB7XFxuICAvL0xvb2sgdXAgY29sb3VyIGZyb20gdGV4dHVyZVxcbiAgRnJhZ0NvbG9yPXRleHR1cmUodV90ZXh0dXJlLCB0ZXhDb29yZCk7XFxufVxcblwiOyIsImV4cG9ydCBkZWZhdWx0IFwiI3ZlcnNpb24gMzAwIGVzXFxuaW4gdmVjNCBhX3Bvc2l0aW9uO1xcbmluIHZlYzMgYV9ub3JtYWw7XFxuXFxudW5pZm9ybSBtYXQ0IHVfcHJvamVjdGlvbjtcXG51bmlmb3JtIG1hdDQgdV92aWV3O1xcbnVuaWZvcm0gbWF0NCB1X3dvcmxkO1xcblxcbm91dCB2ZWMzIHZfbm9ybWFsO1xcblxcbnZvaWQgbWFpbigpe1xcbiAgICBnbF9Qb3NpdGlvbj11X3Byb2plY3Rpb24qdV92aWV3KnVfd29ybGQqYV9wb3NpdGlvbjtcXG4gICAgdl9ub3JtYWw9bWF0Myh1X3dvcmxkKSphX25vcm1hbDtcXG59XCI7IiwiZXhwb3J0IGRlZmF1bHQgXCIjdmVyc2lvbiAzMDAgZXNcXG4gIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4gXFxuICBpbiB2ZWMzIHZfbm9ybWFsO1xcbiBcXG4gIHVuaWZvcm0gdmVjNCB1X2RpZmZ1c2U7XFxuICB1bmlmb3JtIHZlYzMgdV9saWdodERpcmVjdGlvbjtcXG4gXFxuICBvdXQgdmVjNCBvdXRDb2xvcjtcXG4gXFxuICB2b2lkIG1haW4gKCkge1xcbiAgICB2ZWMzIG5vcm1hbCA9IG5vcm1hbGl6ZSh2X25vcm1hbCk7XFxuICAgIGZsb2F0IGZha2VMaWdodCA9IGRvdCh1X2xpZ2h0RGlyZWN0aW9uLCBub3JtYWwpICogLjUgKyAuNTtcXG4gICAgb3V0Q29sb3IgPSB2ZWM0KHVfZGlmZnVzZS5yZ2IgKiBmYWtlTGlnaHQsIHVfZGlmZnVzZS5hKTtcXG4gIH1cIjsiLCJpbXBvcnQgUmVuZGVyZXIgZnJvbSBcIi4vcmVuZGVyZXIvcmVuZGVyZXJcIjtcbmltcG9ydCB7IElNZXNzYWdlU3Vic2NyaWJlciB9IGZyb20gXCIuL21lc3NhZ2UvSU1lc3NhZ2VTdWJzY3JpYmVyXCI7XG5pbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSBcIi4vbWVzc2FnZS9tZXNzYWdlXCI7XG5pbXBvcnQgeyBNZXNzYWdlQnVzIH0gZnJvbSBcIi4vbWVzc2FnZS9tZXNzYWdlQnVzXCI7XG5pbXBvcnQgKiBhcyBNZXNzYWdlQ29uc3RhbnRzIGZyb20gXCIuL21lc3NhZ2UvbWVzc2FnZUNvbnN0YW50c1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnB1dEhhbmRsZXIgaW1wbGVtZW50cyBJTWVzc2FnZVN1YnNjcmliZXIge1xuXHR0YXJnZXRFbGVtZW50OiBIVE1MQ2FudmFzRWxlbWVudDtcblx0cmVuZGVyZXI6IFJlbmRlcmVyO1xuXHRtZXNzYWdlQnVzOiBNZXNzYWdlQnVzO1xuXG5cdGNvbnN0cnVjdG9yKHRhcmdldDogSFRNTENhbnZhc0VsZW1lbnQsIHJlbmQ6IFJlbmRlcmVyKSB7XG5cdFx0dGhpcy50YXJnZXRFbGVtZW50ID0gdGFyZ2V0O1xuXHRcdHRoaXMucmVuZGVyZXIgPSByZW5kO1xuXHRcdHRoaXMubWVzc2FnZUJ1cyA9IE1lc3NhZ2VCdXMuZ2V0SW5zdGFuY2UoKTtcblx0fVxuXHRyZWNlaXZlTWVzc2FnZShtZXNzYWdlOiBNZXNzYWdlKTogdm9pZCB7fVxuXG5cdHVwZGF0ZSgpOiB2b2lkIHt9XG5cblx0cHVibGljIGluaXRJbnB1dEV2ZW50cygpOiB2b2lkIHtcblx0XHR0aGlzLnRhcmdldEVsZW1lbnQudGFiSW5kZXggPSAxMDAwO1xuXG5cdFx0dGhpcy50YXJnZXRFbGVtZW50Lm9ua2V5ZG93biA9IChldmVudCkgPT4ge1xuXHRcdFx0aWYgKGV2ZW50LnJlcGVhdCkgcmV0dXJuO1xuXHRcdFx0bGV0IGtleSA9IGV2ZW50LmtleTtcblx0XHRcdHRoaXMubWVzc2FnZUJ1cy5wb3N0KFxuXHRcdFx0XHRuZXcgTWVzc2FnZShNZXNzYWdlQ29uc3RhbnRzLmlucHV0S2V5RG93biwgdGhpcywga2V5KVxuXHRcdFx0KTtcblx0XHR9O1xuXG5cdFx0dGhpcy50YXJnZXRFbGVtZW50Lm9ua2V5dXAgPSAoZXZlbnQpID0+IHtcblx0XHRcdGlmIChldmVudC5yZXBlYXQpIHJldHVybjtcblx0XHRcdGxldCBrZXkgPSBldmVudC5rZXk7XG5cdFx0XHR0aGlzLm1lc3NhZ2VCdXMucG9zdChuZXcgTWVzc2FnZShNZXNzYWdlQ29uc3RhbnRzLmlucHV0S2V5VXAsIHRoaXMsIGtleSkpO1xuXHRcdH07XG5cblx0XHR0aGlzLnRhcmdldEVsZW1lbnQub25tb3VzZWRvd24gPSAoZXZlbnQpID0+IHtcblx0XHRcdHRoaXMubWVzc2FnZUJ1cy5wb3N0KFxuXHRcdFx0XHRuZXcgTWVzc2FnZShNZXNzYWdlQ29uc3RhbnRzLmlucHV0TW91c2VEb3duLCB0aGlzLCBbXG5cdFx0XHRcdFx0ZXZlbnQucGFnZVgsXG5cdFx0XHRcdFx0ZXZlbnQucGFnZVlcblx0XHRcdFx0XSlcblx0XHRcdCk7XG5cdFx0fTtcblxuXHRcdHRoaXMudGFyZ2V0RWxlbWVudC5vbm1vdXNldXAgPSAoZXZlbnQpID0+IHtcblx0XHRcdHRoaXMubWVzc2FnZUJ1cy5wb3N0KFxuXHRcdFx0XHRuZXcgTWVzc2FnZShNZXNzYWdlQ29uc3RhbnRzLmlucHV0TW91c2VVcCwgdGhpcywgW1xuXHRcdFx0XHRcdGV2ZW50LnBhZ2VYLFxuXHRcdFx0XHRcdGV2ZW50LnBhZ2VZXG5cdFx0XHRcdF0pXG5cdFx0XHQpO1xuXHRcdH07XG5cblx0XHR0aGlzLnRhcmdldEVsZW1lbnQub25tb3VzZW1vdmUgPSAoZXZlbnQpID0+IHtcblx0XHRcdHRoaXMubWVzc2FnZUJ1cy5wb3N0KFxuXHRcdFx0XHRuZXcgTWVzc2FnZShNZXNzYWdlQ29uc3RhbnRzLmlucHV0TW91c2VNb3ZlLCB0aGlzLCBbXG5cdFx0XHRcdFx0ZXZlbnQucGFnZVgsXG5cdFx0XHRcdFx0ZXZlbnQucGFnZVlcblx0XHRcdFx0XSlcblx0XHRcdCk7XG5cdFx0fTtcblxuXHRcdC8qIGRvY3VtZW50Lm9ubW91c2V1cCA9IChldmVudCkgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coXCJET0MgWDpcIiArIGV2ZW50LnBhZ2VYICsgXCIgWTpcIiArIGV2ZW50LnBhZ2VZKTtcblx0XHRcdHRoaXMubWVzc2FnZUJ1cy5wb3N0KG5ldyBNZXNzYWdlKE1lc3NhZ2VDb25zdGFudHMuaW5wdXRNb3VzZVVwLCBkb2N1bWVudCxbZXZlbnQucGFnZVgsZXZlbnQucGFnZVldKSk7XG5cdFx0fTtcblxuICAgICAgICBkb2N1bWVudC5vbm1vdXNlbW92ZT0oZXZlbnQpPT57XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VCdXMucG9zdChuZXcgTWVzc2FnZShNZXNzYWdlQ29uc3RhbnRzLmlucHV0TW91c2VNb3ZlLGRvY3VtZW50LFtldmVudC5wYWdlWCxldmVudC5wYWdlWV0pKTtcbiAgICAgICAgfTsgKi9cblx0fVxuXG5cdHB1YmxpYyByZXF1ZXN0UG9pbnRlckxvY2soKSB7XG5cdFx0dGhpcy50YXJnZXRFbGVtZW50LnJlcXVlc3RQb2ludGVyTG9jaygpO1xuXHR9XG5cblx0cHVibGljIGV4aXRQb2ludGVyTG9jaygpIHtcblx0XHRkb2N1bWVudC5leGl0UG9pbnRlckxvY2soKTtcblx0fVxufVxuIiwiaW1wb3J0IFJlbmRlcmVyIGZyb20gXCIuL3JlbmRlcmVyL3JlbmRlcmVyXCI7XG5pbXBvcnQgSW5wdXRIYW5kbGVyIGZyb20gXCIuL2lucHV0XCI7XG5pbXBvcnQgeyBNZXNzYWdlQnVzIH0gZnJvbSBcIi4vbWVzc2FnZS9tZXNzYWdlQnVzXCI7XG5pbXBvcnQgeyBJTWVzc2FnZVN1YnNjcmliZXIgfSBmcm9tIFwiLi9tZXNzYWdlL0lNZXNzYWdlU3Vic2NyaWJlclwiO1xuaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gXCIuL21lc3NhZ2UvbWVzc2FnZVwiO1xuXG52YXIgY2FudmFzSUQgPSBcInZlcnRpZ29DYW52YXNcIjtcblxuZXhwb3J0IGNsYXNzIEVuZ2luZSBpbXBsZW1lbnRzIElNZXNzYWdlU3Vic2NyaWJlcntcblx0cHJpdmF0ZSBfY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcblx0cHJpdmF0ZSBfcmVuZGVyZXI6IFJlbmRlcmVyO1xuXHRwcml2YXRlIF9tZXNzYWdlQnVzOk1lc3NhZ2VCdXM7XG5cdHByaXZhdGUgX3JlbmRlcjpib29sZWFuPWZhbHNlO1xuXG5cdGNvbnN0cnVjdG9yKGNhbnZhc0lEOiBzdHJpbmcgPSBcInZlcnRpZ29DYW52YXNcIikge1xuXHRcdHRoaXMuX2NhbnZhcyA9IDxIVE1MQ2FudmFzRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYW52YXNJRCk7XG5cdFx0aWYgKHRoaXMuX2NhbnZhcyA9PT0gdW5kZWZpbmVkKVxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcIkZBVEFMOiBDYW5ub3QgZmluZCBkZXN0aW5hdGlvbiBjYW52YXMgZWxlbWVudCB3aXRoIG5hbWU6XCIgKyBjYW52YXNJRFxuXHRcdFx0KTtcblx0XHRcdFxuXHR9XG5cdHJlY2VpdmVNZXNzYWdlKG1lc3NhZ2U6IE1lc3NhZ2UpOiB2b2lkIHtcblx0XHRjb25zb2xlLmxvZyhcImVuZ2luZSByZWNlaXZlZCBcIittZXNzYWdlLmlkZW50aWZpZXIpO1xuXHRcdHRoaXMuX3JlbmRlcj10cnVlO1xuXHR9XG5cblx0aW5pdGlhbGl6ZSgpIHtcblx0XHR0aGlzLl9tZXNzYWdlQnVzPU1lc3NhZ2VCdXMuZ2V0SW5zdGFuY2UoKTtcblx0XHR0aGlzLl9tZXNzYWdlQnVzLmFkZFN1YnNjcmlwdGlvbihcInJlbmRlcmVyX3N0YXJ0ZWRcIiwgdGhpcyk7XG5cdFx0dGhpcy5fcmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIodGhpcy5fY2FudmFzKTtcblx0XHRcblx0XHRsZXQgaW5wdXRIYW5kbGVyID0gbmV3IElucHV0SGFuZGxlcih0aGlzLl9jYW52YXMsIHRoaXMuX3JlbmRlcmVyKTtcblx0XHRpbnB1dEhhbmRsZXIuaW5pdElucHV0RXZlbnRzKCk7XG5cdFx0dGhpcy5ydW4oKTtcblx0XHRcblx0fVxuXG5cdFxuXG5cdHByb3RlY3RlZCBzdGF0aWMgc2VuZElucHV0TWVzc2FnZShtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHt9XG5cblx0cHVibGljIHJ1bigpOiB2b2lkIHtcblx0XHRjb25zdCBnYW1lTG9vcCA9ICgpID0+IHtcblx0XHRcdHRoaXMuX21lc3NhZ2VCdXMudXBkYXRlKCk7XHRcblx0XHRcdGlmKHRoaXMuX3JlbmRlcil0aGlzLl9yZW5kZXJlci5yZW5kZXIoKTtcdFx0XG5cdFx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wKTtcblx0XHR9O1xuXG5cdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcCk7XG5cdH1cbn1cbiIsImltcG9ydCB7RW5naW5lfSBmcm9tICcuL2VuZ2luZSc7XG5cbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IGFwcGxpY2F0aW9uID0gbmV3IEVuZ2luZSgpO1xuICAgIGFwcGxpY2F0aW9uLmluaXRpYWxpemUoKTtcbiAgfTtcbiJdLCJuYW1lcyI6WyJNZXNzYWdlUHJpb3JpdHkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsImlkZW50aWZpZXIiLCJzZW5kZXIiLCJwYXlsb2FkIiwicHJpb3JpdHkiLCJOT1JNQUwiLCJfc3Vic2NyaWJlck1hcCIsIl9ub3JtYWxNZXNzYWdlQ2FwYWNpdHkiLCJfbWVzc2FnZVF1ZXVlIiwiZ2V0SW5zdGFuY2UiLCJNZXNzYWdlQnVzIiwiX2luc3RhbmNlIiwiYWRkU3Vic2NyaXB0aW9uIiwic3Vic2NyaWJlciIsImN1cnJlbnQiLCJ1bmRlZmluZWQiLCJpbmRleE9mIiwiY29uc29sZSIsIndhcm4iLCJwdXNoIiwicmVtb3ZlU3Vic2NyaXB0aW9uIiwiaW5kZXgiLCJzcGxpY2UiLCJwb3N0IiwibWVzc2FnZSIsInN1YnNjcmliZXJzIiwicyIsIkhJR0giLCJyZWNlaXZlTWVzc2FnZSIsImxvZyIsInVwZGF0ZSIsIm1lc3NhZ2VMaW1pdCIsIk1hdGgiLCJtaW4iLCJpIiwicG9wIiwiRVBTSUxPTiIsIkFSUkFZX1RZUEUiLCJGbG9hdDMyQXJyYXkiLCJBcnJheSIsInJhbmRvbSIsImRlZ3JlZSIsIlBJIiwidG9SYWRpYW4iLCJhIiwiY3JlYXRlIiwib3V0IiwiZnJvbVZhbHVlcyIsIngiLCJ5IiwieiIsInNjYWxlQW5kQWRkIiwiYiIsInNjYWxlIiwiY3Jvc3MiLCJheCIsImF5IiwiYXoiLCJieCIsImJ5IiwiYnoiLCJyb3RhdGUiLCJyYWQiLCJheGlzIiwiYyIsInQiLCJhMDAiLCJhMDEiLCJhMDIiLCJhMDMiLCJhMTAiLCJhMTEiLCJhMTIiLCJhMTMiLCJhMjAiLCJhMjEiLCJhMjIiLCJhMjMiLCJiMDAiLCJiMDEiLCJiMDIiLCJiMTAiLCJiMTEiLCJiMTIiLCJiMjAiLCJiMjEiLCJiMjIiLCJsZW4iLCJoeXBvdCIsInNpbiIsImNvcyIsImFyZ3VtZW50cyIsInNxcnQiLCJwZXJzcGVjdGl2ZSIsImZvdnkiLCJhc3BlY3QiLCJuZWFyIiwiZmFyIiwibmYiLCJmIiwidGFuIiwiSW5maW5pdHkiLCJsb29rQXQiLCJleWUiLCJjZW50ZXIiLCJ1cCIsIngwIiwieDEiLCJ4MiIsInkwIiwieTEiLCJ5MiIsInowIiwiejEiLCJ6MiIsImV5ZXgiLCJleWV5IiwiZXlleiIsInVweCIsInVweSIsInVweiIsImNlbnRlcngiLCJjZW50ZXJ5IiwiY2VudGVyeiIsImFicyIsImlkZW50aXR5IiwiZ2wiLCJfY2FudmFzIiwiX3Byb2dyYW0iLCJfdmFvIiwiX3RleHR1cmUiLCJfZWJvIiwiX2luZGljZXMiLCJtb2RlbCIsInZpZXciLCJwcm9qZWN0aW9uIiwiY2FtZXJhUG9zIiwiY2FtZXJhVXAiLCJjYW1lcmFSaWdodCIsImNhbWVyYUZyb250IiwiaW5wdXRLZXlEb3duIiwiaW5wdXRLZXlVcCIsImlucHV0TW91c2VEb3duIiwiaW5wdXRNb3VzZVVwIiwiaW5wdXRNb3VzZU1vdmUiLCJmb3ZQZXJQaXhlbCIsIl9mb3YiLCJjYW1lcmFZYXciLCJjYW1lcmFQaXRjaCIsIm1vdXNlRmlyc3QiLCJkZWx0YVRpbWUiLCJsYXN0RnJhbWUiLCJ3IiwiZCIsInEiLCJ0YXJnZXQiLCJtZXNzYWdlQnVzIiwiZ2V0Q29udGV4dCIsImltYWdlIiwiSW1hZ2UiLCJvbmxvYWQiLCJldmVudCIsImluaXQiLCJNZXNzYWdlIiwib25lcnJvciIsImVycm9yIiwibSIsInByb2Nlc3NNb3VzZSIsInZlcnQiLCJSZW5kZXJlciIsImNyZWF0ZVNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJmcmFnIiwiRlJBR01FTlRfU0hBREVSIiwiYWx0VmVydCIsImFsdEZyYWciLCJjcmVhdGVQcm9ncmFtIiwidXNlUHJvZ3JhbSIsInJlc2l6ZUNhbnZhc1RvRGlzcGxheVNpemUiLCJVaW50MTZBcnJheSIsImNhbnZhcyIsImNsaWVudEhlaWdodCIsImNsaWVudFdpZHRoIiwiY3JlYXRlVmVydGV4QXJyYXkiLCJiaW5kVmVydGV4QXJyYXkiLCJ2Ym8iLCJjcmVhdGVCdWZmZXIiLCJiaW5kQnVmZmVyIiwiQVJSQVlfQlVGRkVSIiwiYnVmZmVyRGF0YSIsIlNUQVRJQ19EUkFXIiwiRUxFTUVOVF9BUlJBWV9CVUZGRVIiLCJnZXRCdWZmZXJQYXJhbWV0ZXIiLCJCVUZGRVJfU0laRSIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJGTE9BVCIsImVuYWJsZVZlcnRleEF0dHJpYkFycmF5IiwiY3JlYXRlVGV4dHVyZSIsImJpbmRUZXh0dXJlIiwiVEVYVFVSRV8yRCIsInRleFBhcmFtZXRlcmkiLCJURVhUVVJFX1dSQVBfUyIsIlJFUEVBVCIsIlRFWFRVUkVfV1JBUF9UIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiTElORUFSX01JUE1BUF9MSU5FQVIiLCJURVhUVVJFX01BR19GSUxURVIiLCJMSU5FQVIiLCJpbnRlcm5hbEZvcm1hdCIsIlJHQkEiLCJmb3JtYXQiLCJ0eXBlIiwiVU5TSUdORURfQllURSIsInRleEltYWdlMkQiLCJnZW5lcmF0ZU1pcG1hcCIsImVuYWJsZSIsIkRFUFRIX1RFU1QiLCJyZW5kZXIiLCJjdXJyZW50RnJhbWUiLCJEYXRlIiwibm93IiwicHJvY2Vzc0lucHV0Iiwidmlld3BvcnQiLCJ3aWR0aCIsImhlaWdodCIsImNsZWFyIiwiQ09MT1JfQlVGRkVSX0JJVCIsIkRFUFRIX0JVRkZFUl9CSVQiLCJjbGVhckNvbG9yIiwiY2FtZXJhQ2VudGVyIiwibUxvYyIsImdldFVuaWZvcm1Mb2NhdGlvbiIsInZMb2MiLCJwTG9jIiwidW5pZm9ybU1hdHJpeDRmdiIsIlRSSUFOR0xFUyIsIlVOU0lHTkVEX1NIT1JUIiwiZHJhd0FycmF5cyIsInNvdXJjZSIsInNoYWRlciIsInNoYWRlclNvdXJjZSIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImdldFNoYWRlckluZm9Mb2ciLCJkZWxldGVTaGFkZXIiLCJ2ZXJ0ZXhTaGFkZXIiLCJmcmFnbWVudFNoYWRlciIsInByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsImdldFByb2dyYW1JbmZvTG9nIiwiZGVsZXRlUHJvZ3JhbSIsImRpc3BsYXlXaWR0aCIsImRpc3BsYXlIZWlnaHQiLCJuZWVkUmVzaXplIiwiY2FtZXJhU3BlZWQiLCJ4UG9zIiwieVBvcyIsInBvc2l0aW9uIiwieE9mZnNldCIsInlPZmZzZXQiLCJwaXRjaFJhZGlhbiIsInlhd1JhZGlhbiIsImZyb250IiwicmVuZCIsInRhcmdldEVsZW1lbnQiLCJyZW5kZXJlciIsImluaXRJbnB1dEV2ZW50cyIsInRhYkluZGV4Iiwib25rZXlkb3duIiwicmVwZWF0Iiwia2V5Iiwib25rZXl1cCIsIm9ubW91c2Vkb3duIiwicGFnZVgiLCJwYWdlWSIsIm9ubW91c2V1cCIsIm9ubW91c2Vtb3ZlIiwicmVxdWVzdFBvaW50ZXJMb2NrIiwiZXhpdFBvaW50ZXJMb2NrIiwiY2FudmFzSUQiLCJfcmVuZGVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJpbml0aWFsaXplIiwiX21lc3NhZ2VCdXMiLCJfcmVuZGVyZXIiLCJydW4iLCJzZW5kSW5wdXRNZXNzYWdlIiwiZ2FtZUxvb3AiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJFbmdpbmUiXSwic291cmNlUm9vdCI6IiJ9