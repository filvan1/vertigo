(()=>{"use strict";var e,n;const t=function(){function t(t){if(null==(n=t))throw new Error("Canvas initialization failed!");if(void 0===(e=n.getContext("webgl2")))throw new Error("Unable to initiaze WebGL")}return t.prototype.init=function(){var r=t.createShader(e,e.VERTEX_SHADER,"#version 300 es\n \n// an attribute is an input (in) to a vertex shader.\n// It will receive data from a buffer\nin vec4 a_position;\n\nuniform mat4 u_projection;\nuniform mat4 u_translation;\n\n// all shaders have a main function\nvoid main() {\n\n  // gl_Position is a special variable a vertex shader\n  // is responsible for setting\n  gl_Position = a_position;\n}\n"),a=t.createShader(e,e.FRAGMENT_SHADER,'#version 300 es\n \n// fragment shaders don\'t have a default precision so we need\n// to pick one. highp is a good default. It means "high precision"\nprecision highp float;\n \n// we need to declare an output for the fragment shader\nout vec4 outColor;\n \nvoid main() {\n  // Just set the output to a constant reddish-purple\n  outColor = vec4(1, 0, 0.5, 1);\n}\n'),o=t.createProgram(e,r,a);if(e.useProgram(o),null==o)throw new Error("Program creation failed!");var i=e.getAttribLocation(o,"a_position"),s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,0,.5,.7,0]),e.STATIC_DRAW);var c=e.createVertexArray();e.bindVertexArray(c),e.enableVertexAttribArray(i);var d=e.FLOAT,l=0;e.vertexAttribPointer(i,2,d,!1,0,l),t.resizeCanvasToDisplaySize(n),e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT);var h=e.TRIANGLES;l=0,e.drawArrays(h,l,3)},t.createShader=function(e,n,t){var r=e.createShader(n);if(e.shaderSource(r,t),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;console.log(e.getShaderInfoLog(r)),e.deleteShader(r)},t.createProgram=function(e,n,t){var r=e.createProgram();if(e.attachShader(r,n),e.attachShader(r,t),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))return r;console.log(e.getProgramInfoLog(r)),e.deleteProgram(r)},t.resizeCanvasToDisplaySize=function(e){var n=e.clientWidth,t=e.clientHeight;(e.width!==n||e.height!==t)&&(e.width=n,e.height=t)},t}(),r=function(){function e(e){this.bodyElement=e,this.bodyElement.addEventListener("keydown",this.onKeyDown,!1)}return e.prototype.onKeyDown=function(e){"ArrowUp"===e.key&&console.log("UP!")},e}();var a="vertigoCanvas",o=function(){function e(){}return e.prototype.initialize=function(){var e=document.getElementById(a);if(void 0===e)throw new Error("Cannot find destination canvas element with name:"+a);new t(e).init(),new r(document.body)},e}();window.onload=function(){(new o).initialize()}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDLFdBQUEsV0FFTyxJQUFJdEMsRUFDVHVDLFNBQVNDLGVBQWVILEdBRXpCLFFBQWVwRSxJQUFYK0IsRUFDSCxNQUFNLElBQUloQyxNQUNULG9EQUFzRHFFLEdBRXZDLElBQUksRUFBU3JDLEdBQ25CN0IsT0FHWSxJQUFJLEVBQWFvRSxTQUFTRSxPQUtuRCxFQW5CQSxHQ0hBQyxPQUFPQyxPQUFTLFlBQ00sSUFBSUMsR0FDVk4sZSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZlcnRpZ28vLi9zcmMvcmVuZGVyZXIvUmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vdmVydGlnby8uL3NyYy9yZW5kZXJlci9zaGFkZXJzL3ZlcnRleC5nbHNsIiwid2VicGFjazovL3ZlcnRpZ28vLi9zcmMvcmVuZGVyZXIvc2hhZGVycy9mcmFnbWVudC5nbHNsIiwid2VicGFjazovL3ZlcnRpZ28vLi9zcmMvSW5wdXRIYW5kbGVyLnRzIiwid2VicGFjazovL3ZlcnRpZ28vLi9zcmMvRW5naW5lLnRzIiwid2VicGFjazovL3ZlcnRpZ28vLi9zcmMvYXBwLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBWZXJ0ZXhTaGFkZXJTb3VyY2UgZnJvbSBcIi4vc2hhZGVycy92ZXJ0ZXguZ2xzbFwiO1xuaW1wb3J0IEZyYWdtZW50U2hhZGVyU291cmNlIGZyb20gXCIuL3NoYWRlcnMvZnJhZ21lbnQuZ2xzbFwiO1xuXG5leHBvcnQgdmFyIGdsOiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0O1xudmFyIF9jYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZW5kZXJlciB7XG5cdGNvbnN0cnVjdG9yKHRhcmdldDogSFRNTENhbnZhc0VsZW1lbnQpIHtcblx0XHRfY2FudmFzID0gdGFyZ2V0O1xuXG4gICAgICAgIGlmIChfY2FudmFzID09IG51bGwpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkNhbnZhcyBpbml0aWFsaXphdGlvbiBmYWlsZWQhXCIpO1xuXHRcdH1cblxuXHRcdGdsID0gX2NhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2wyXCIpO1xuXHRcdGlmIChnbCA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gaW5pdGlhemUgV2ViR0xcIik7XG5cdH1cblxuXHRpbml0KCkge1xuXG5cdFx0dmFyIHZlcnQgPSBSZW5kZXJlci5jcmVhdGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIFZlcnRleFNoYWRlclNvdXJjZSk7XG5cdFx0dmFyIGZyYWcgPSBSZW5kZXJlci5jcmVhdGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgRnJhZ21lbnRTaGFkZXJTb3VyY2UpO1xuXG5cdFx0dmFyIHByb2dyYW0gPSBSZW5kZXJlci5jcmVhdGVQcm9ncmFtKGdsLCB2ZXJ0LCBmcmFnKTtcbiAgICAgICAgLy9UZWxsIFdlYkdMIHRvIHVzZSBvdXIgcHJvZ3JhbVxuXHRcdGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG5cblx0XHRpZiAocHJvZ3JhbSA9PSBudWxsKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJQcm9ncmFtIGNyZWF0aW9uIGZhaWxlZCFcIik7XG5cdFx0fVxuXHRcdFxuXG5cdFx0Ly9Mb29rIHVwIHdoZXJlIG91ciBjb21waWxlZCBhdHRyaWJ1dGUgZW5kZWQgdXBcblx0XHR2YXIgcG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIFwiYV9wb3NpdGlvblwiKTtcblxuXHRcdC8vQ3JlYXRlIGEgYnVmZmVyIGFuZCB0ZWxsIFdlYkdMIHdoYXQgaXQncyBmb3Jcblx0XHR2YXIgcG9zaXRpb25CdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcblx0XHRnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcG9zaXRpb25CdWZmZXIpO1xuXG5cdFx0dmFyIHBvc2l0aW9ucyA9IFswLCAwLCAwLCAwLjUsIDAuNywgMF07XG5cdFx0Ly9CaW5kIGRhdGEgdG8gdGhlIGJ1ZmZlciBhbmQgdGVsbCBpdCB0aGF0IHRoZSBkYXRhIHdvbid0IGNoYW5nZSB0aGF0IG11Y2guXG5cdFx0Z2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkocG9zaXRpb25zKSwgZ2wuU1RBVElDX0RSQVcpO1xuXG5cdFx0Ly9DcmVhdGUgYW5kIGJpbmQgdmVydGV4IGxpc3QsIG9oIHllYWghXG5cdFx0dmFyIHZhbyA9IGdsLmNyZWF0ZVZlcnRleEFycmF5KCk7XG5cdFx0Z2wuYmluZFZlcnRleEFycmF5KHZhbyk7XG5cdFx0Ly9cIlR1cm4gb25cIiB0aGUgYXR0cmlidXRlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGUgZGF0YS4gSWYgd2UgZG9uJ3QgZG8gdGhpcyB0aGUgYXR0cmlidXRlIHdpbGwgYmUgYSBjb25zdGFudFxuXHRcdGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24pO1xuXG5cdFx0Ly9UZWxsIFdlYkdMIGhvdyB0byBnZXQgdGhlIGRhdGEgb3V0LiBCaW5kcyBjdXJyZW50IEFSUkFZX0JVRkZFUiB0byB0aGUgYXR0cmlidXRlLCBzbyBub3cgd2UgY2FuIGJpbmQgd2hhdGV2ZXJcblx0XHR2YXIgc2l6ZSA9IDI7IC8vIDIgY29tcG9uZW50cyBwZXIgaXRlcmF0aW9uXG5cdFx0dmFyIHR5cGUgPSBnbC5GTE9BVDsgLy8gdGhlIGRhdGEgaXMgMzJiaXQgZmxvYXRzXG5cdFx0dmFyIG5vcm1hbGl6ZSA9IGZhbHNlOyAvLyBkb24ndCBub3JtYWxpemUgdGhlIGRhdGFcblx0XHR2YXIgc3RyaWRlID0gMDsgLy8gMCA9IG1vdmUgZm9yd2FyZCBzaXplICogc2l6ZW9mKHR5cGUpIGVhY2ggaXRlcmF0aW9uIHRvIGdldCB0aGUgbmV4dCBwb3NpdGlvblxuXHRcdHZhciBvZmZzZXQgPSAwOyAvLyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBidWZmZXJcblxuXHRcdC8vVGhpcyBiaW5kcyBjdXJyZW50IEFSUkFZX0JVRkZFUiB0byB0aGUgdmVydGV4IGF0dHJpYnV0ZSwgc28gbm93IHRoZSBBUlJBWV9CVUZGRVIgY2FuIGJlIGZyZWVseSBjaGFuZ2VkIHdpdGhvdXQgaW1wYWN0aW5nIGl0LlxuXHRcdGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoXG5cdFx0XHRwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uLFxuXHRcdFx0c2l6ZSxcblx0XHRcdHR5cGUsXG5cdFx0XHRub3JtYWxpemUsXG5cdFx0XHRzdHJpZGUsXG5cdFx0XHRvZmZzZXRcblx0XHQpO1xuXG5cdFx0Ly9SZXNpemUgdGhlIEdMIENhbnZhcyB0byB0aGUgc2l6ZSBkZXRlcm1pbmVkIGJ5IENTU1xuXHRcdFJlbmRlcmVyLnJlc2l6ZUNhbnZhc1RvRGlzcGxheVNpemUoX2NhbnZhcyk7XG5cdFx0Ly9UZWxsIFdlYkdMIHRoYXQgdGhlIHZpZXdwb3J0IGhhcyBjaGFuZ2VkIVxuXHRcdGdsLnZpZXdwb3J0KDAsIDAsIGdsLmNhbnZhcy53aWR0aCwgZ2wuY2FudmFzLmhlaWdodCk7XG5cblx0XHQvL1NjcnViIHRoZSBjYW52YXNcblx0XHRnbC5jbGVhckNvbG9yKDAsIDAsIDAsIDApO1xuXHRcdGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpO1xuXG5cdFx0XG5cblx0XHR2YXIgcHJpbWl0aXZlVHlwZSA9IGdsLlRSSUFOR0xFUztcblx0XHR2YXIgb2Zmc2V0ID0gMDtcblx0XHR2YXIgY291bnQgPSAzO1xuXG5cdFx0LypJdGVyYXRlcyB0aHJvdWdoIHRoZSBhcnJheSBhbmQgZHJhd3MgdGhlbSBldmVuIGlmIHRoZSB2ZXJ0aWNlcyBoYXZlIGJlZW4gbG9hZGVkIGJlZm9yZS4gXG4gICAgICBnbC5kcmF3RWxlbWVudHMgaXMgcXVpY2tlciBpbiBtYW55IGNhc2VzLCBzaW5jZSBpdCBjYWNoZXMgcmVwZWF0ZWQgdmVydGljZXMgaW4gdGhlIGdwdS4gXG4gICAgICAqL1xuXHRcdGdsLmRyYXdBcnJheXMocHJpbWl0aXZlVHlwZSwgb2Zmc2V0LCBjb3VudCk7XG5cbiAgICAgICAgXG5cblx0fVxuXG5cdC8vI3JlZ2lvbiBIZWxwZXIgZnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0LyoqXG5cdCAqIENvbXBpbGVzIGEgc2hhZGVyIGFuZCByZXR1cm5zIGl0LiBJZiBjb21waWxhdGlvbiBmYWlscywgbG9nIHRoZSBzaGFkZXIgY29kZSBhbmQgZGVsZXRlIHRoZSBzaGFkZXIgZnJvbSB0aGUgY29udGV4dC5cblx0ICogQHBhcmFtIGdsIFdlYkdMIENvbnRleHRcblx0ICogQHBhcmFtIHR5cGUgU2hhZGVyIFR5cGVcblx0ICogQHBhcmFtIHNvdXJjZSBTaGFkZXIgc291cmNlIGNvZGVcblx0ICovXG5cdHN0YXRpYyBjcmVhdGVTaGFkZXIoXG5cdFx0Z2w6IFdlYkdMMlJlbmRlcmluZ0NvbnRleHQsXG5cdFx0dHlwZTogbnVtYmVyLFxuXHRcdHNvdXJjZTogc3RyaW5nXG5cdCkge1xuXHRcdHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XG5cdFx0Z2wuc2hhZGVyU291cmNlKHNoYWRlciwgc291cmNlKTtcblx0XHRnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG5cdFx0dmFyIHN1Y2Nlc3MgPSBnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUyk7XG5cdFx0aWYgKHN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiBzaGFkZXI7XG5cdFx0fVxuXG5cdFx0Y29uc29sZS5sb2coZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKTtcblx0XHRnbC5kZWxldGVTaGFkZXIoc2hhZGVyKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBMaW5rcyB0aGUgY29tcGlsZWQgc2hhZGVycyB3aXRoIHRoZSBHTCBjb250ZXh0IGFuZCBjcmVhdGVzIGEgcHJvZ3JhbSBvbiB0aGUgR1BVLlxuXHQgKiBAcGFyYW0gZ2wgV2ViR0wgQ29udGV4dFxuXHQgKiBAcGFyYW0gdmVydGV4U2hhZGVyIFZlcnRleCBzaGFkZXJcblx0ICogQHBhcmFtIGZyYWdtZW50U2hhZGVyIEZyYWdtZW50IHNoYWRlclxuXHQgKi9cblx0c3RhdGljIGNyZWF0ZVByb2dyYW0oXG5cdFx0Z2w6IFdlYkdMMlJlbmRlcmluZ0NvbnRleHQsXG5cdFx0dmVydGV4U2hhZGVyOiBXZWJHTFNoYWRlcixcblx0XHRmcmFnbWVudFNoYWRlcjogV2ViR0xTaGFkZXJcblx0KSB7XG5cdFx0dmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG5cdFx0Z2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcik7XG5cdFx0Z2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcblx0XHRnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcblx0XHR2YXIgc3VjY2VzcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpO1xuXHRcdGlmIChzdWNjZXNzKSB7XG5cdFx0XHRyZXR1cm4gcHJvZ3JhbTtcblx0XHR9XG5cblx0XHRjb25zb2xlLmxvZyhnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSk7XG5cdFx0Z2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXNpemVzIGRpc3BsYXkgdG8gSFRNTCBjYW52YXMgc2l6ZSBzZXQgYnkgQ1NTXG5cdCAqIEBwYXJhbSBjYW52YXMgQ2FudmFzIEhUTUwgZWxlbWVudFxuXHQgKi9cblx0c3RhdGljIHJlc2l6ZUNhbnZhc1RvRGlzcGxheVNpemUoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuXHRcdC8vIExvb2t1cCB0aGUgc2l6ZSB0aGUgYnJvd3NlciBpcyBkaXNwbGF5aW5nIHRoZSBjYW52YXMgaW4gQ1NTIHBpeGVscy5cblx0XHRjb25zdCBkaXNwbGF5V2lkdGggPSBjYW52YXMuY2xpZW50V2lkdGg7XG5cdFx0Y29uc3QgZGlzcGxheUhlaWdodCA9IGNhbnZhcy5jbGllbnRIZWlnaHQ7XG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIGNhbnZhcyBpcyBub3QgdGhlIHNhbWUgc2l6ZS5cblx0XHRjb25zdCBuZWVkUmVzaXplID1cblx0XHRcdGNhbnZhcy53aWR0aCAhPT0gZGlzcGxheVdpZHRoIHx8IGNhbnZhcy5oZWlnaHQgIT09IGRpc3BsYXlIZWlnaHQ7XG5cblx0XHRpZiAobmVlZFJlc2l6ZSkge1xuXHRcdFx0Ly8gTWFrZSB0aGUgY2FudmFzIHRoZSBzYW1lIHNpemVcblx0XHRcdGNhbnZhcy53aWR0aCA9IGRpc3BsYXlXaWR0aDtcblx0XHRcdGNhbnZhcy5oZWlnaHQgPSBkaXNwbGF5SGVpZ2h0O1xuXHRcdH1cblx0fVxuXHQvLyNlbmRyZWdpb25cbn1cbiIsImV4cG9ydCBkZWZhdWx0IFwiI3ZlcnNpb24gMzAwIGVzXFxuIFxcbi8vIGFuIGF0dHJpYnV0ZSBpcyBhbiBpbnB1dCAoaW4pIHRvIGEgdmVydGV4IHNoYWRlci5cXG4vLyBJdCB3aWxsIHJlY2VpdmUgZGF0YSBmcm9tIGEgYnVmZmVyXFxuaW4gdmVjNCBhX3Bvc2l0aW9uO1xcblxcbnVuaWZvcm0gbWF0NCB1X3Byb2plY3Rpb247XFxudW5pZm9ybSBtYXQ0IHVfdHJhbnNsYXRpb247XFxuXFxuLy8gYWxsIHNoYWRlcnMgaGF2ZSBhIG1haW4gZnVuY3Rpb25cXG52b2lkIG1haW4oKSB7XFxuXFxuICAvLyBnbF9Qb3NpdGlvbiBpcyBhIHNwZWNpYWwgdmFyaWFibGUgYSB2ZXJ0ZXggc2hhZGVyXFxuICAvLyBpcyByZXNwb25zaWJsZSBmb3Igc2V0dGluZ1xcbiAgZ2xfUG9zaXRpb24gPSBhX3Bvc2l0aW9uO1xcbn1cXG5cIjsiLCJleHBvcnQgZGVmYXVsdCBcIiN2ZXJzaW9uIDMwMCBlc1xcbiBcXG4vLyBmcmFnbWVudCBzaGFkZXJzIGRvbid0IGhhdmUgYSBkZWZhdWx0IHByZWNpc2lvbiBzbyB3ZSBuZWVkXFxuLy8gdG8gcGljayBvbmUuIGhpZ2hwIGlzIGEgZ29vZCBkZWZhdWx0LiBJdCBtZWFucyBcXFwiaGlnaCBwcmVjaXNpb25cXFwiXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiBcXG4vLyB3ZSBuZWVkIHRvIGRlY2xhcmUgYW4gb3V0cHV0IGZvciB0aGUgZnJhZ21lbnQgc2hhZGVyXFxub3V0IHZlYzQgb3V0Q29sb3I7XFxuIFxcbnZvaWQgbWFpbigpIHtcXG4gIC8vIEp1c3Qgc2V0IHRoZSBvdXRwdXQgdG8gYSBjb25zdGFudCByZWRkaXNoLXB1cnBsZVxcbiAgb3V0Q29sb3IgPSB2ZWM0KDEsIDAsIDAuNSwgMSk7XFxufVxcblwiOyIsIlxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5wdXRIYW5kbGVye1xuXG4gICAgcHJpdmF0ZSBib2R5RWxlbWVudDpIVE1MRWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKHRhcmdldDpIVE1MRWxlbWVudCl7XG4gICAgICAgIHRoaXMuYm9keUVsZW1lbnQ9dGFyZ2V0O1xuICAgICAgICB0aGlzLmJvZHlFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMub25LZXlEb3duLGZhbHNlKTtcbiAgICB9XG5cbiAgICBvbktleURvd24oZXZlbnQ6S2V5Ym9hcmRFdmVudCk6dm9pZHtcbiAgICAgICAgaWYoZXZlbnQua2V5PT09XCJBcnJvd1VwXCIpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVUCFcIik7XG4gICAgICAgIH1cblxuICAgIH1cblxufSIsImltcG9ydCBSZW5kZXJlciBmcm9tIFwiLi9yZW5kZXJlci9SZW5kZXJlclwiO1xuaW1wb3J0IElucHV0SGFuZGxlciBmcm9tIFwiLi9JbnB1dEhhbmRsZXJcIjtcblxudmFyIGNhbnZhc0lEID0gXCJ2ZXJ0aWdvQ2FudmFzXCI7XG5cbmV4cG9ydCBjbGFzcyBFbmdpbmUge1xuXHRpbml0aWFsaXplKCkge1xuXHRcdC8vY29uc29sZS5sb2coXCJ0b2RvOiBmaXggYmFrIGNvZGUgdG8gdGhpcyB3b3Jrc3BhY2VcIik7XG4gICAgICAgIGxldCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50ID0gPEhUTUxDYW52YXNFbGVtZW50Pihcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhbnZhc0lEKVxuXHRcdCk7XG5cdFx0aWYgKGNhbnZhcyA9PT0gdW5kZWZpbmVkKVxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcIkNhbm5vdCBmaW5kIGRlc3RpbmF0aW9uIGNhbnZhcyBlbGVtZW50IHdpdGggbmFtZTpcIiArIGNhbnZhc0lEXG5cdFx0XHQpO1xuICAgICAgICBsZXQgcmVuZCA9IG5ldyBSZW5kZXJlcihjYW52YXMpO1xuICAgICAgICByZW5kLmluaXQoKTtcblx0XHRcbiAgICAgICAgLy9Jbml0aWFsaXplIGlucHV0IGhhbmRsaW5nIGZvciB0aGUgY3VycmVudCBIVE1MIHBhZ2UgYm9keVxuICAgICAgICBsZXQgaW5wdXRIYW5kbGVyPW5ldyBJbnB1dEhhbmRsZXIoZG9jdW1lbnQuYm9keSk7XG5cblx0fVxuXG4gICAgXG59XG4iLCJpbXBvcnQge0VuZ2luZX0gZnJvbSAnLi9FbmdpbmUnO1xuXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBhcHBsaWNhdGlvbiA9IG5ldyBFbmdpbmUoKTtcbiAgICBhcHBsaWNhdGlvbi5pbml0aWFsaXplKCk7XG4gIH07XG4iXSwibmFtZXMiOlsiZ2wiLCJfY2FudmFzIiwidGFyZ2V0IiwiRXJyb3IiLCJ1bmRlZmluZWQiLCJnZXRDb250ZXh0IiwiaW5pdCIsInZlcnQiLCJSZW5kZXJlciIsImNyZWF0ZVNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJmcmFnIiwiRlJBR01FTlRfU0hBREVSIiwicHJvZ3JhbSIsImNyZWF0ZVByb2dyYW0iLCJ1c2VQcm9ncmFtIiwicG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbiIsImdldEF0dHJpYkxvY2F0aW9uIiwicG9zaXRpb25CdWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJiaW5kQnVmZmVyIiwiQVJSQVlfQlVGRkVSIiwiYnVmZmVyRGF0YSIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwidmFvIiwiY3JlYXRlVmVydGV4QXJyYXkiLCJiaW5kVmVydGV4QXJyYXkiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInR5cGUiLCJGTE9BVCIsIm9mZnNldCIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJyZXNpemVDYW52YXNUb0Rpc3BsYXlTaXplIiwidmlld3BvcnQiLCJjYW52YXMiLCJ3aWR0aCIsImhlaWdodCIsImNsZWFyQ29sb3IiLCJjbGVhciIsIkNPTE9SX0JVRkZFUl9CSVQiLCJwcmltaXRpdmVUeXBlIiwiVFJJQU5HTEVTIiwiZHJhd0FycmF5cyIsInNvdXJjZSIsInNoYWRlciIsInNoYWRlclNvdXJjZSIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImNvbnNvbGUiLCJsb2ciLCJnZXRTaGFkZXJJbmZvTG9nIiwiZGVsZXRlU2hhZGVyIiwidmVydGV4U2hhZGVyIiwiZnJhZ21lbnRTaGFkZXIiLCJhdHRhY2hTaGFkZXIiLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsImdldFByb2dyYW1JbmZvTG9nIiwiZGVsZXRlUHJvZ3JhbSIsImRpc3BsYXlXaWR0aCIsImNsaWVudFdpZHRoIiwiZGlzcGxheUhlaWdodCIsImNsaWVudEhlaWdodCIsInRoaXMiLCJib2R5RWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbktleURvd24iLCJldmVudCIsImtleSIsImNhbnZhc0lEIiwiaW5pdGlhbGl6ZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJib2R5Iiwid2luZG93Iiwib25sb2FkIiwiRW5naW5lIl0sInNvdXJjZVJvb3QiOiIifQ==